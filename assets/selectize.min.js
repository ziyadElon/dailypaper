/*! selectize.js - v0.10.1 | https://github.com/brianreavis/selectize.js | Apache License (v2) */
//!function(a,b){"function"==typeof define&&define.amd?define("sifter",b):"object"==typeof exports?module.exports=b():a.Sifter=b()}(this,function(){var a=function(a,b){this.items=a,this.settings=b||{diacritics:!0}};a.prototype.tokenize=function(a){if(a=d(String(a||"").toLowerCase()),!a||!a.length)return[];var b,c,f,h,i=[],j=a.split(/ +/);for(b=0,c=j.length;c>b;b++){if(f=e(j[b]),this.settings.diacritics)for(h in g)g.hasOwnProperty(h)&&(f=f.replace(new RegExp(h,"g"),g[h]));i.push({string:j[b],regex:new RegExp(f,"i")})}return i},a.prototype.iterator=function(a,b){var c;c=f(a)?Array.prototype.forEach||function(a){for(var b=0,c=this.length;c>b;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)},c.apply(a,[b])},a.prototype.getScoreFunction=function(a,b){var c,d,e,f;c=this,a=c.prepareSearch(a,b),e=a.tokens,d=a.options.fields,f=e.length;var g=function(a,b){var c,d;return a?(a=String(a||""),d=a.search(b.regex),-1===d?0:(c=b.string.length/a.length,0===d&&(c+=.5),c)):0},h=function(){var a=d.length;return a?1===a?function(a,b){return g(b[d[0]],a)}:function(b,c){for(var e=0,f=0;a>e;e++)f+=g(c[d[e]],b);return f/a}:function(){return 0}}();return f?1===f?function(a){return h(e[0],a)}:"and"===a.options.conjunction?function(a){for(var b,c=0,d=0;f>c;c++){if(b=h(e[c],a),0>=b)return 0;d+=b}return d/f}:function(a){for(var b=0,c=0;f>b;b++)c+=h(e[b],a);return c/f}:function(){return 0}},a.prototype.getSortFunction=function(a,c){var d,e,f,g,h,i,j,k,l,m,n;if(f=this,a=f.prepareSearch(a,c),n=!a.query&&c.sort_empty||c.sort,l=function(a,b){return"$score"===a?b.score:f.items[b.id][a]},h=[],n)for(d=0,e=n.length;e>d;d++)(a.query||"$score"!==n[d].field)&&h.push(n[d]);if(a.query){for(m=!0,d=0,e=h.length;e>d;d++)if("$score"===h[d].field){m=!1;break}m&&h.unshift({field:"$score",direction:"desc"})}else for(d=0,e=h.length;e>d;d++)if("$score"===h[d].field){h.splice(d,1);break}for(k=[],d=0,e=h.length;e>d;d++)k.push("desc"===h[d].direction?-1:1);return i=h.length,i?1===i?(g=h[0].field,j=k[0],function(a,c){return j*b(l(g,a),l(g,c))}):function(a,c){var d,e,f;for(d=0;i>d;d++)if(f=h[d].field,e=k[d]*b(l(f,a),l(f,c)))return e;return 0}:null},a.prototype.prepareSearch=function(a,b){if("object"==typeof a)return a;b=c({},b);var d=b.fields,e=b.sort,g=b.sort_empty;return d&&!f(d)&&(b.fields=[d]),e&&!f(e)&&(b.sort=[e]),g&&!f(g)&&(b.sort_empty=[g]),{options:b,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}},a.prototype.search=function(a,b){var c,d,e,f,g=this;return d=this.prepareSearch(a,b),b=d.options,a=d.query,f=b.score||g.getScoreFunction(d),a.length?g.iterator(g.items,function(a,e){c=f(a),(b.filter===!1||c>0)&&d.items.push({score:c,id:e})}):g.iterator(g.items,function(a,b){d.items.push({score:1,id:b})}),e=g.getSortFunction(d,b),e&&d.items.sort(e),d.total=d.items.length,"number"==typeof b.limit&&(d.items=d.items.slice(0,b.limit)),d};var b=function(a,b){return"number"==typeof a&&"number"==typeof b?a>b?1:b>a?-1:0:(a=String(a||"").toLowerCase(),b=String(b||"").toLowerCase(),a>b?1:b>a?-1:0)},c=function(a){var b,c,d,e;for(b=1,c=arguments.length;c>b;b++)if(e=arguments[b])for(d in e)e.hasOwnProperty(d)&&(a[d]=e[d]);return a},d=function(a){return(a+"").replace(/^\s+|\s+$|/g,"")},e=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},f=Array.isArray||$&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g={a:"[aÀÁÂÃÄÅàáâãäå]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚ]",i:"[iÌÍÎÏìíîï]",n:"[nÑñňŇ]",o:"[oÒÓÔÕÕÖØòóôõöø]",r:"[rřŘ]",s:"[sŠš]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮ]",y:"[yŸÿýÝ]",z:"[zŽž]"};return a}),function(a,b){"function"==typeof define&&define.amd?define("microplugin",b):"object"==typeof exports?module.exports=b():a.MicroPlugin=b()}(this,function(){var a={};a.mixin=function(a){a.plugins={},a.prototype.initializePlugins=function(a){var c,d,e,f=this,g=[];if(f.plugins={names:[],settings:{},requested:{},loaded:{}},b.isArray(a))for(c=0,d=a.length;d>c;c++)"string"==typeof a[c]?g.push(a[c]):(f.plugins.settings[a[c].name]=a[c].options,g.push(a[c].name));else if(a)for(e in a)a.hasOwnProperty(e)&&(f.plugins.settings[e]=a[e],g.push(e));for(;g.length;)f.require(g.shift())},a.prototype.loadPlugin=function(b){var c=this,d=c.plugins,e=a.plugins[b];if(!a.plugins.hasOwnProperty(b))throw new Error('Unable to find "'+b+'" plugin');d.requested[b]=!0,d.loaded[b]=e.fn.apply(c,[c.plugins.settings[b]||{}]),d.names.push(b)},a.prototype.require=function(a){var b=this,c=b.plugins;if(!b.plugins.loaded.hasOwnProperty(a)){if(c.requested[a])throw new Error('Plugin has circular dependency ("'+a+'")');b.loadPlugin(a)}return c.loaded[a]},a.define=function(b,c){a.plugins[b]={name:b,fn:c}}};var b={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}};return a}),function(a,b){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],b):"object"==typeof exports?module.exports=b(require("jquery"),require("sifter"),require("microplugin")):a.Selectize=b(a.jQuery,a.Sifter,a.MicroPlugin)}(this,function(a,b,c){"use strict";var d=function(a,b){if("string"!=typeof b||b.length){var c="string"==typeof b?new RegExp(b,"i"):b,d=function(a){var b=0;if(3===a.nodeType){var e=a.data.search(c);if(e>=0&&a.data.length>0){var f=a.data.match(c),g=document.createElement("span");g.className="highlight";var h=a.splitText(e),i=(h.splitText(f[0].length),h.cloneNode(!0));g.appendChild(i),h.parentNode.replaceChild(g,h),b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(var j=0;j<a.childNodes.length;++j)j+=d(a.childNodes[j]);return b};return a.each(function(){d(this)})}},e=function(){};e.prototype={on:function(a,b){this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)},off:function(a,b){var c=arguments.length;return 0===c?delete this._events:1===c?delete this._events[a]:(this._events=this._events||{},void(a in this._events!=!1&&this._events[a].splice(this._events[a].indexOf(b),1)))},trigger:function(a){if(this._events=this._events||{},a in this._events!=!1)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(a){for(var b=["on","off","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=e.prototype[b[c]]};var f=/Mac/.test(navigator.userAgent),g=65,h=13,i=27,j=37,k=38,l=80,m=39,n=40,o=78,p=8,q=46,r=16,s=f?91:17,t=f?18:17,u=9,v=1,w=2,x=function(a){return"undefined"!=typeof a},y=function(a){return"undefined"==typeof a||null===a?"":"boolean"==typeof a?a?"1":"0":a+""},z=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},A=function(a){return(a+"").replace(/\$/g,"$$$$")},B={};B.before=function(a,b,c){var d=a[b];a[b]=function(){return c.apply(a,arguments),d.apply(a,arguments)}},B.after=function(a,b,c){var d=a[b];a[b]=function(){var b=d.apply(a,arguments);return c.apply(a,arguments),b}};var C=function(b,c){if(!a.isArray(c))return c;var d,e,f={};for(d=0,e=c.length;e>d;d++)c[d].hasOwnProperty(b)&&(f[c[d][b]]=c[d]);return f},D=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},E=function(a,b){var c;return function(){var d=this,e=arguments;window.clearTimeout(c),c=window.setTimeout(function(){a.apply(d,e)},b)}},F=function(a,b,c){var d,e=a.trigger,f={};a.trigger=function(){var c=arguments[0];return-1===b.indexOf(c)?e.apply(a,arguments):void(f[c]=arguments)},c.apply(a,[]),a.trigger=e;for(d in f)f.hasOwnProperty(d)&&e.apply(a,f[d])},G=function(a,b,c,d){a.on(b,c,function(b){for(var c=b.target;c&&c.parentNode!==a[0];)c=c.parentNode;return b.currentTarget=c,d.apply(this,[b])})},H=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var c=document.selection.createRange(),d=document.selection.createRange().text.length;c.moveStart("character",-a.value.length),b.start=c.text.length-d,b.length=d}return b},I=function(a,b,c){var d,e,f={};if(c)for(d=0,e=c.length;e>d;d++)f[c[d]]=a.css(c[d]);else f=a.css();b.css(f)},J=function(b,c){if(!b)return 0;var d=a("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(b).appendTo("body");I(c,d,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var e=d.width();return d.remove(),e},K=function(a){var b=null,c=function(c,d){var e,f,g,h,i,j,k,l;c=c||window.event||{},d=d||{},c.metaKey||c.altKey||(d.force||a.data("grow")!==!1)&&(e=a.val(),c.type&&"keydown"===c.type.toLowerCase()&&(f=c.keyCode,g=f>=97&&122>=f||f>=65&&90>=f||f>=48&&57>=f||32===f,f===q||f===p?(l=H(a[0]),l.length?e=e.substring(0,l.start)+e.substring(l.start+l.length):f===p&&l.start?e=e.substring(0,l.start-1)+e.substring(l.start+1):f===q&&"undefined"!=typeof l.start&&(e=e.substring(0,l.start)+e.substring(l.start+1))):g&&(j=c.shiftKey,k=String.fromCharCode(c.keyCode),k=j?k.toUpperCase():k.toLowerCase(),e+=k)),h=a.attr("placeholder"),!e&&h&&(e=h),i=J(e,a)+4,i!==b&&(b=i,a.width(i),a.triggerHandler("resize")))};a.on("keydown keyup update blur",c),c()},L=function(c,d){var e,f,g=this;f=c[0],f.selectize=g,e=window.getComputedStyle?window.getComputedStyle(f,null).getPropertyValue("direction"):f.currentStyle&&f.currentStyle.direction,e=e||c.parents("[dir]:first").attr("dir")||"",a.extend(g,{settings:d,$input:c,tagType:"select"===f.tagName.toLowerCase()?v:w,rtl:/rtl/i.test(e),eventNS:".selectize"+ ++L.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:c.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===d.loadThrottle?g.onSearchChange:E(g.onSearchChange,d.loadThrottle)}),g.sifter=new b(this.options,{diacritics:d.diacritics}),a.extend(g.options,C(d.valueField,d.options)),delete g.settings.options,a.extend(g.optgroups,C(d.optgroupValueField,d.optgroups)),delete g.settings.optgroups,g.settings.mode=g.settings.mode||(1===g.settings.maxItems?"single":"multi"),"boolean"!=typeof g.settings.hideSelected&&(g.settings.hideSelected="multi"===g.settings.mode),g.settings.create&&(g.canCreate=function(a){var b=g.settings.createFilter;return!(!a.length||"function"==typeof b&&!b.apply(g,[a])||"string"==typeof b&&!new RegExp(b).test(a)||b instanceof RegExp&&!b.test(a))}),g.initializePlugins(g.settings.plugins),g.setupCallbacks(),g.setupTemplates(),g.setup()};return e.mixin(L),c.mixin(L),a.extend(L.prototype,{setup:function(){var b,c,d,e,g,h,i,j,k,l,m=this,n=m.settings,o=m.eventNS,p=a(window),q=a(document),u=m.$input;i=m.settings.mode,j=u.attr("tabindex")||"",k=u.attr("class")||"",b=a("<div>").addClass(n.wrapperClass).addClass(k).addClass(i),c=a("<div>").addClass(n.inputClass).addClass("items").appendTo(b),d=a('<input type="text" autocomplete="off" />').appendTo(c).attr("tabindex",j),h=a(n.dropdownParent||b),e=a("<div>").addClass(n.dropdownClass).addClass(k).addClass(i).hide().appendTo(h),g=a("<div>").addClass(n.dropdownContentClass).appendTo(e),b.css({width:u[0].style.width}),m.plugins.names.length&&(l="plugin-"+m.plugins.names.join(" plugin-"),b.addClass(l),e.addClass(l)),(null===n.maxItems||n.maxItems>1)&&m.tagType===v&&u.attr("multiple","multiple"),m.settings.placeholder&&d.attr("placeholder",n.placeholder),u.attr("autocorrect")&&d.attr("autocorrect",u.attr("autocorrect")),u.attr("autocapitalize")&&d.attr("autocapitalize",u.attr("autocapitalize")),m.$wrapper=b,m.$control=c,m.$control_input=d,m.$dropdown=e,m.$dropdown_content=g,e.on("mouseenter","[data-selectable]",function(){return m.onOptionHover.apply(m,arguments)}),e.on("mousedown","[data-selectable]",function(){return m.onOptionSelect.apply(m,arguments)}),G(c,"mousedown","*:not(input)",function(){return m.onItemSelect.apply(m,arguments)}),K(d),c.on({mousedown:function(){return m.onMouseDown.apply(m,arguments)},click:function(){return m.onClick.apply(m,arguments)}}),d.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return m.onKeyDown.apply(m,arguments)},keyup:function(){return m.onKeyUp.apply(m,arguments)},keypress:function(){return m.onKeyPress.apply(m,arguments)},resize:function(){m.positionDropdown.apply(m,[])},blur:function(){return m.onBlur.apply(m,arguments)},focus:function(){return m.ignoreBlur=!1,m.onFocus.apply(m,arguments)},paste:function(){return m.onPaste.apply(m,arguments)}}),q.on("keydown"+o,function(a){m.isCmdDown=a[f?"metaKey":"ctrlKey"],m.isCtrlDown=a[f?"altKey":"ctrlKey"],m.isShiftDown=a.shiftKey}),q.on("keyup"+o,function(a){a.keyCode===t&&(m.isCtrlDown=!1),a.keyCode===r&&(m.isShiftDown=!1),a.keyCode===s&&(m.isCmdDown=!1)}),q.on("mousedown"+o,function(a){if(m.isFocused){if(a.target===m.$dropdown[0]||a.target.parentNode===m.$dropdown[0])return!1;m.$control.has(a.target).length||a.target===m.$control[0]||m.blur()}}),p.on(["scroll"+o,"resize"+o].join(" "),function(){m.isOpen&&m.positionDropdown.apply(m,arguments)}),p.on("mousemove"+o,function(){m.ignoreHover=!1}),this.revertSettings={$children:u.children().detach(),tabindex:u.attr("tabindex")},u.attr("tabindex",-1).hide().after(m.$wrapper),a.isArray(n.items)&&(m.setValue(n.items),delete n.items),u[0].validity&&u.on("invalid"+o,function(a){a.preventDefault(),m.isInvalid=!0,m.refreshState()}),m.updateOriginalInput(),m.refreshItems(),m.refreshState(),m.updatePlaceholder(),m.isSetup=!0,u.is(":disabled")&&m.disable(),m.on("change",this.onChange),u.data("selectize",m),u.addClass("selectized"),m.trigger("initialize"),n.preload===!0&&m.onSearchChange("")},setupTemplates:function(){var b=this,c=b.settings.labelField,d=b.settings.optgroupLabelField,e={optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,b){return'<div class="optgroup-header">'+b(a[d])+"</div>"},option:function(a,b){return'<div class="option"><span class="color-span '+b(a[c]).toLowerCase().replace(/ /g,'-')+'"></span><span class="variant-title-wc">'+b(a[c])+"</span></div>"},item:function(a,b){return'<div class="item"><span class="color-span '+b(a[c]).toLowerCase().replace(/ /g,'-')+'"></span><span class="variant-title-wc">'+b(a[c])+"</span></div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}};b.settings.render=a.extend({},e,b.settings.render)},setupCallbacks:function(){var a,b,c={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType"};for(a in c)c.hasOwnProperty(a)&&(b=this.settings[c[a]],b&&this.on(a,b))},onClick:function(a){var b=this;b.isFocused||(b.focus(),a.preventDefault())},onMouseDown:function(b){{var c=this,d=b.isDefaultPrevented();a(b.target)}if(c.isFocused){if(b.target!==c.$control_input[0])return"single"===c.settings.mode?c.isOpen?c.close():c.open():d||c.setActiveItem(null),!1}else d||window.setTimeout(function(){c.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(a){var b=this;(b.isFull()||b.isInputHidden||b.isLocked)&&a.preventDefault()},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);return this.settings.create&&b===this.settings.delimiter?(this.createItem(),a.preventDefault(),!1):void 0},onKeyDown:function(a){var b=(a.target===this.$control_input[0],this);if(b.isLocked)return void(a.keyCode!==u&&a.preventDefault());switch(a.keyCode){case g:if(b.isCmdDown)return void b.selectAll();break;case i:return void b.close();case o:if(!a.ctrlKey||a.altKey)break;case n:if(!b.isOpen&&b.hasOptions)b.open();else if(b.$activeOption){b.ignoreHover=!0;var c=b.getAdjacentOption(b.$activeOption,1);c.length&&b.setActiveOption(c,!0,!0)}return void a.preventDefault();case l:if(!a.ctrlKey||a.altKey)break;case k:if(b.$activeOption){b.ignoreHover=!0;var d=b.getAdjacentOption(b.$activeOption,-1);d.length&&b.setActiveOption(d,!0,!0)}return void a.preventDefault();case h:return b.isOpen&&b.$activeOption&&b.onOptionSelect({currentTarget:b.$activeOption}),void a.preventDefault();case j:return void b.advanceSelection(-1,a);case m:return void b.advanceSelection(1,a);case u:return b.settings.selectOnTab&&b.isOpen&&b.$activeOption&&(b.onOptionSelect({currentTarget:b.$activeOption}),a.preventDefault()),void(b.settings.create&&b.createItem()&&a.preventDefault());case p:case q:return void b.deleteSelection(a)}return!b.isFull()&&!b.isInputHidden||(f?a.metaKey:a.ctrlKey)?void 0:void a.preventDefault()},onKeyUp:function(a){var b=this;if(b.isLocked)return a&&a.preventDefault();var c=b.$control_input.val()||"";b.lastValue!==c&&(b.lastValue=c,b.onSearchChange(c),b.refreshOptions(),b.trigger("type",c))},onSearchChange:function(a){var b=this,c=b.settings.load;c&&(b.loadedSearches.hasOwnProperty(a)||(b.loadedSearches[a]=!0,b.load(function(d){c.apply(b,[a,d])})))},onFocus:function(a){var b=this;return b.isFocused=!0,b.isDisabled?(b.blur(),a&&a.preventDefault(),!1):void(b.ignoreFocus||("focus"===b.settings.preload&&b.onSearchChange(""),b.$activeItems.length||(b.showInput(),b.setActiveItem(null),b.refreshOptions(!!b.settings.openOnFocus)),b.refreshState()))},onBlur:function(a){var b=this;if(b.isFocused=!1,!b.ignoreFocus){if(!b.ignoreBlur&&document.activeElement===b.$dropdown_content[0])return b.ignoreBlur=!0,void b.onFocus(a);b.settings.create&&b.settings.createOnBlur&&b.createItem(!1),b.close(),b.setTextboxValue(""),b.setActiveItem(null),b.setActiveOption(null),b.setCaret(b.items.length),b.refreshState()}},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(b){var cart_val = $('#product-add-to-cart').val();if(cart_val == 'Sold Out'){$('.notify-me-wc-available').addClass('hide');$('.notify-me-wc-unavailable').removeClass('hide');}else{$('.notify-me-wc-available').removeClass('hide');$('.notify-me-wc-unavailable').addClass('hide');}}, 300);var c,d,e=this;b.preventDefault&&(b.preventDefault(),b.stopPropagation()),d=a(b.currentTarget),d.hasClass("create")?e.createItem():(c=d.attr("data-value"),c&&(e.lastQuery=null,e.setTextboxValue(""),e.addItem(c),!e.settings.hideSelected&&b.type&&/mouse/.test(b.type)&&e.setActiveOption(e.getOption(c))))},onItemSelect:function(a){var b=this;b.isLocked||"multi"===b.settings.mode&&(a.preventDefault(),b.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,c=b.$wrapper.addClass("loading");b.loading++,a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0),a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden)),b.loading||c.removeClass("loading"),b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input,c=b.val()!==a;c&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return this.tagType===v&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a){F(this,["change"],function(){this.clear(),this.addItems(a)})},setActiveItem:function(b,c){var d,e,f,g,h,i,j,k,l=this;if("single"!==l.settings.mode){if(b=a(b),!b.length)return a(l.$activeItems).removeClass("active"),l.$activeItems=[],void(l.isFocused&&l.showInput());if(d=c&&c.type.toLowerCase(),"mousedown"===d&&l.isShiftDown&&l.$activeItems.length){for(k=l.$control.children(".active:last"),g=Array.prototype.indexOf.apply(l.$control[0].childNodes,[k[0]]),h=Array.prototype.indexOf.apply(l.$control[0].childNodes,[b[0]]),g>h&&(j=g,g=h,h=j),e=g;h>=e;e++)i=l.$control[0].childNodes[e],-1===l.$activeItems.indexOf(i)&&(a(i).addClass("active"),l.$activeItems.push(i));c.preventDefault()}else"mousedown"===d&&l.isCtrlDown||"keydown"===d&&this.isShiftDown?b.hasClass("active")?(f=l.$activeItems.indexOf(b[0]),l.$activeItems.splice(f,1),b.removeClass("active")):l.$activeItems.push(b.addClass("active")[0]):(a(l.$activeItems).removeClass("active"),l.$activeItems=[b.addClass("active")[0]]);l.hideInput(),this.isFocused||l.focus()}},setActiveOption:function(b,c,d){var e,f,g,h,i,j=this;j.$activeOption&&j.$activeOption.removeClass("active"),j.$activeOption=null,b=a(b),b.length&&(j.$activeOption=b.addClass("active"),(c||!x(c))&&(e=j.$dropdown_content.height(),f=j.$activeOption.outerHeight(!0),c=j.$dropdown_content.scrollTop()||0,g=j.$activeOption.offset().top-j.$dropdown_content.offset().top+c,h=g,i=g-e+f,g+f>e+c?j.$dropdown_content.stop().animate({scrollTop:i},d?j.settings.scrollDuration:0):c>g&&j.$dropdown_content.stop().animate({scrollTop:h},d?j.settings.scrollDuration:0)))},selectAll:function(){var a=this;"single"!==a.settings.mode&&(a.$activeItems=Array.prototype.slice.apply(a.$control.children(":not(input)").addClass("active")),a.$activeItems.length&&(a.hideInput(),a.close()),a.focus())},hideInput:function(){var a=this;a.setTextboxValue(""),a.$control_input.css({opacity:0,position:"absolute",left:a.rtl?1e4:-1e4}),a.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1,a.onFocus()},0))},blur:function(){this.$control_input.trigger("blur")},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},getSearchOptions:function(){var a=this.settings,b=a.sortField;return"string"==typeof b&&(b={field:b}),{fields:a.searchField,conjunction:a.searchConjunction,sort:b}},search:function(b){var c,d,e,f=this,g=f.settings,h=this.getSearchOptions();if(g.score&&(e=f.settings.score.apply(this,[b]),"function"!=typeof e))throw new Error('Selectize "score" setting must be a function that returns a function');if(b!==f.lastQuery?(f.lastQuery=b,d=f.sifter.search(b,a.extend(h,{score:e})),f.currentResults=d):d=a.extend(!0,{},f.currentResults),g.hideSelected)for(c=d.items.length-1;c>=0;c--)-1!==f.items.indexOf(y(d.items[c].id))&&d.items.splice(c,1);return d},refreshOptions:function(b){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;"undefined"==typeof b&&(b=!0);var t=this,u=t.$control_input.val(),v=t.search(u),w=t.$dropdown_content,x=t.$activeOption&&y(t.$activeOption.attr("data-value"));if(g=v.items.length,"number"==typeof t.settings.maxOptions&&(g=Math.min(g,t.settings.maxOptions)),h={},t.settings.optgroupOrder)for(i=t.settings.optgroupOrder,c=0;c<i.length;c++)h[i[c]]=[];else i=[];for(c=0;g>c;c++)for(j=t.options[v.items[c].id],k=t.render("option",j),l=j[t.settings.optgroupField]||"",m=a.isArray(l)?l:[l],e=0,f=m&&m.length;f>e;e++)l=m[e],t.optgroups.hasOwnProperty(l)||(l=""),h.hasOwnProperty(l)||(h[l]=[],i.push(l)),h[l].push(k);for(n=[],c=0,g=i.length;g>c;c++)l=i[c],t.optgroups.hasOwnProperty(l)&&h[l].length?(o=t.render("optgroup_header",t.optgroups[l])||"",o+=h[l].join(""),n.push(t.render("optgroup",a.extend({},t.optgroups[l],{html:o})))):n.push(h[l].join(""));if(w.html(n.join("")),t.settings.highlight&&v.query.length&&v.tokens.length)for(c=0,g=v.tokens.length;g>c;c++)d(w,v.tokens[c].regex);if(!t.settings.hideSelected)for(c=0,g=t.items.length;g>c;c++)t.getOption(t.items[c]).addClass("selected");p=t.settings.create&&t.canCreate(v.query),p&&(w.prepend(t.render("option_create",{input:u})),s=a(w[0].childNodes[0])),t.hasOptions=v.items.length>0||p,t.hasOptions?(v.items.length>0?(r=x&&t.getOption(x),r&&r.length?q=r:"single"===t.settings.mode&&t.items.length&&(q=t.getOption(t.items[0])),q&&q.length||(q=s&&!t.settings.addPrecedence?t.getAdjacentOption(s,1):w.find("[data-selectable]:first"))):q=s,t.setActiveOption(q),b&&!t.isOpen&&t.open()):(t.setActiveOption(null),b&&t.isOpen&&t.close())},addOption:function(b){var c,d,e,f=this;if(a.isArray(b))for(c=0,d=b.length;d>c;c++)f.addOption(b[c]);else e=y(b[f.settings.valueField]),e&&!f.options.hasOwnProperty(e)&&(f.userOptions[e]=!0,f.options[e]=b,f.lastQuery=null,f.trigger("option_add",e,b))},addOptionGroup:function(a,b){this.optgroups[a]=b,this.trigger("optgroup_add",a,b)},updateOption:function(b,c){var d,e,f,g,h,i,j=this;if(b=y(b),f=y(c[j.settings.valueField]),j.options.hasOwnProperty(b)){if(!f)throw new Error("Value must be set in option data");f!==b&&(delete j.options[b],g=j.items.indexOf(b),-1!==g&&j.items.splice(g,1,f)),j.options[f]=c,h=j.renderCache.item,i=j.renderCache.option,h&&(delete h[b],delete h[f]),i&&(delete i[b],delete i[f]),-1!==j.items.indexOf(f)&&(d=j.getItem(b),e=a(j.render("item",c)),d.hasClass("active")&&e.addClass("active"),d.replaceWith(e)),j.isOpen&&j.refreshOptions(!1)}},removeOption:function(a){var b=this;a=y(a);var c=b.renderCache.item,d=b.renderCache.option;c&&delete c[a],d&&delete d[a],delete b.userOptions[a],delete b.options[a],b.lastQuery=null,b.trigger("option_remove",a),b.removeItem(a)},clearOptions:function(){var a=this;a.loadedSearches={},a.userOptions={},a.renderCache={},a.options=a.sifter.items={},a.lastQuery=null,a.trigger("option_clear"),a.clear()},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(b,c){var d=this.$dropdown.find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},getElementWithValue:function(b,c){if(b=y(b))for(var d=0,e=c.length;e>d;d++)if(c[d].getAttribute("data-value")===b)return a(c[d]);return a()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(b){for(var c=a.isArray(b)?b:[b],d=0,e=c.length;e>d;d++)this.isPending=e-1>d,this.addItem(c[d])},addItem:function(b){F(this,["change"],function(){var c,d,e,f,g,h=this,i=h.settings.mode;return b=y(b),-1!==h.items.indexOf(b)?void("single"===i&&h.close()):void(h.options.hasOwnProperty(b)&&("single"===i&&h.clear(),"multi"===i&&h.isFull()||(c=a(h.render("item",h.options[b])),g=h.isFull(),h.items.splice(h.caretPos,0,b),h.insertAtCaret(c),(!h.isPending||!g&&h.isFull())&&h.refreshState(),h.isSetup&&(e=h.$dropdown_content.find("[data-selectable]"),h.isPending||(d=h.getOption(b),f=h.getAdjacentOption(d,1).attr("data-value"),h.refreshOptions(h.isFocused&&"single"!==i),f&&h.setActiveOption(h.getOption(f))),!e.length||h.isFull()?h.close():h.positionDropdown(),h.updatePlaceholder(),h.trigger("item_add",b,c),h.updateOriginalInput()))))})},removeItem:function(a){var b,c,d,e=this;b="object"==typeof a?a:e.getItem(a),a=y(b.attr("data-value")),c=e.items.indexOf(a),-1!==c&&(b.remove(),b.hasClass("active")&&(d=e.$activeItems.indexOf(b[0]),e.$activeItems.splice(d,1)),e.items.splice(c,1),e.lastQuery=null,!e.settings.persist&&e.userOptions.hasOwnProperty(a)&&e.removeOption(a),c<e.caretPos&&e.setCaret(e.caretPos-1),e.refreshState(),e.updatePlaceholder(),e.updateOriginalInput(),e.positionDropdown(),e.trigger("item_remove",a))},createItem:function(b){var c=this,d=a.trim(c.$control_input.val()||""),e=c.caretPos;if(!c.canCreate(d))return!1;c.lock(),"undefined"==typeof b&&(b=!0);var f="function"==typeof c.settings.create?this.settings.create:function(a){var b={};return b[c.settings.labelField]=a,b[c.settings.valueField]=a,b},g=D(function(a){if(c.unlock(),a&&"object"==typeof a){var d=y(a[c.settings.valueField]);d&&(c.setTextboxValue(""),c.addOption(a),c.setCaret(e),c.addItem(d),c.refreshOptions(b&&"single"!==c.settings.mode))}}),h=f.apply(this,[d,g]);return"undefined"!=typeof h&&g(h),!0},refreshItems:function(){if(this.lastQuery=null,this.isSetup)for(var a=0;a<this.items.length;a++)this.addItem(this.items);this.refreshState(),this.updateOriginalInput()},refreshState:function(){var a,b=this;b.isRequired&&(b.items.length&&(b.isInvalid=!1),b.$control_input.prop("required",a)),b.refreshClasses()},refreshClasses:function(){var b=this,c=b.isFull(),d=b.isLocked;b.$wrapper.toggleClass("rtl",b.rtl),b.$control.toggleClass("focus",b.isFocused).toggleClass("disabled",b.isDisabled).toggleClass("required",b.isRequired).toggleClass("invalid",b.isInvalid).toggleClass("locked",d).toggleClass("full",c).toggleClass("not-full",!c).toggleClass("input-active",b.isFocused&&!b.isInputHidden).toggleClass("dropdown-active",b.isOpen).toggleClass("has-options",!a.isEmptyObject(b.options)).toggleClass("has-items",b.items.length>0),b.$control_input.data("grow",!c&&!d)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(){var a,b,c,d=this;if(d.tagType===v){for(c=[],a=0,b=d.items.length;b>a;a++)c.push('<option value="'+z(d.items[a])+'" selected="selected"></option>');c.length||this.$input.attr("multiple")||c.push('<option value="" selected="selected"></option>'),d.$input.html(c.join(""))}else d.$input.val(d.getValue()),d.$input.attr("value",d.$input.val());d.isSetup&&d.trigger("change",d.$input.val())},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder),a.triggerHandler("update",{force:!0})}},open:function(){var a=this;a.isLocked||a.isOpen||"multi"===a.settings.mode&&a.isFull()||(a.focus(),a.isOpen=!0,a.refreshState(),a.$dropdown.css({visibility:"hidden",display:"block"}),a.positionDropdown(),a.$dropdown.css({visibility:"visible"}),a.trigger("dropdown_open",a.$dropdown))},close:function(){var a=this,b=a.isOpen;"single"===a.settings.mode&&a.items.length&&a.hideInput(),a.isOpen=!1,a.$dropdown.hide(),a.setActiveOption(null),a.refreshState(),b&&a.trigger("dropdown_close",a.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0),this.$dropdown.css({})},clear:function(){var a=this;a.items.length&&(a.$control.children(":not(input)").remove(),a.items=[],a.lastQuery=null,a.setCaret(0),a.setActiveItem(null),a.updatePlaceholder(),a.updateOriginalInput(),a.refreshState(),a.showInput(),a.trigger("clear"))},insertAtCaret:function(b){var c=Math.min(this.caretPos,this.items.length);0===c?this.$control.prepend(b):a(this.$control[0].childNodes[c]).before(b),this.setCaret(c+1)},deleteSelection:function(b){var c,d,e,f,g,h,i,j,k,l=this;if(e=b&&b.keyCode===p?-1:1,f=H(l.$control_input[0]),l.$activeOption&&!l.settings.hideSelected&&(i=l.getAdjacentOption(l.$activeOption,-1).attr("data-value")),g=[],l.$activeItems.length){for(k=l.$control.children(".active:"+(e>0?"last":"first")),h=l.$control.children(":not(input)").index(k),e>0&&h++,c=0,d=l.$activeItems.length;d>c;c++)g.push(a(l.$activeItems[c]).attr("data-value"));b&&(b.preventDefault(),b.stopPropagation())}else(l.isFocused||"single"===l.settings.mode)&&l.items.length&&(0>e&&0===f.start&&0===f.length?g.push(l.items[l.caretPos-1]):e>0&&f.start===l.$control_input.val().length&&g.push(l.items[l.caretPos]));if(!g.length||"function"==typeof l.settings.onDelete&&l.settings.onDelete.apply(l,[g])===!1)return!1;for("undefined"!=typeof h&&l.setCaret(h);g.length;)l.removeItem(g.pop());return l.showInput(),l.positionDropdown(),l.refreshOptions(!0),i&&(j=l.getOption(i),j.length&&l.setActiveOption(j)),!0},advanceSelection:function(a,b){var c,d,e,f,g,h,i=this;0!==a&&(i.rtl&&(a*=-1),c=a>0?"last":"first",d=H(i.$control_input[0]),i.isFocused&&!i.isInputHidden?(f=i.$control_input.val().length,g=0>a?0===d.start&&0===d.length:d.start===f,g&&!f&&i.advanceCaret(a,b)):(h=i.$control.children(".active:"+c),h.length&&(e=i.$control.children(":not(input)").index(h),i.setActiveItem(null),i.setCaret(a>0?e+1:e))))},advanceCaret:function(a,b){var c,d,e=this;0!==a&&(c=a>0?"next":"prev",e.isShiftDown?(d=e.$control_input[c](),d.length&&(e.hideInput(),e.setActiveItem(d),b&&b.preventDefault())):e.setCaret(e.caretPos+a))},setCaret:function(b){var c=this;if(b="single"===c.settings.mode?c.items.length:Math.max(0,Math.min(c.items.length,b)),!c.isPending){var d,e,f,g;for(f=c.$control.children(":not(input)"),d=0,e=f.length;e>d;d++)g=a(f[d]).detach(),b>d?c.$control_input.before(g):c.$control.append(g)}c.caretPos=b},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var a=this;a.$input.prop("disabled",!0),a.isDisabled=!0,a.lock()},enable:function(){var a=this;a.$input.prop("disabled",!1),a.isDisabled=!1,a.unlock()},destroy:function(){var b=this,c=b.eventNS,d=b.revertSettings;b.trigger("destroy"),b.off(),b.$wrapper.remove(),b.$dropdown.remove(),b.$input.html("").append(d.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:d.tabindex}).show(),b.$control_input.removeData("grow"),b.$input.removeData("selectize"),a(window).off(c),a(document).off(c),a(document.body).off(c),delete b.$input[0].selectize},render:function(a,b){var c,d,e="",f=!1,g=this,h=/^[\t ]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===a||"item"===a)&&(c=y(b[g.settings.valueField]),f=!!c),f&&(x(g.renderCache[a])||(g.renderCache[a]={}),g.renderCache[a].hasOwnProperty(c))?g.renderCache[a][c]:(e=g.settings.render[a].apply(this,[b,z]),("option"===a||"option_create"===a)&&(e=e.replace(h,"<$1 data-selectable")),"optgroup"===a&&(d=b[g.settings.optgroupValueField]||"",e=e.replace(h,'<$1 data-group="'+A(z(d))+'"')),("option"===a||"item"===a)&&(e=e.replace(h,'<$1 data-value="'+A(z(c||""))+'"')),f&&(g.renderCache[a][c]=e),e)},clearCache:function(a){var b=this;"undefined"==typeof a?b.renderCache={}:delete b.renderCache[a]}}),L.count=0,L.defaults={plugins:[],delimiter:",",persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,scrollDuration:60,loadThrottle:300,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",optgroupOrder:null,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,render:{}},a.fn.selectize=function(b){var c=a.fn.selectize.defaults,d=a.extend({},c,b),e=d.dataAttr,f=d.labelField,g=d.valueField,h=d.optgroupField,i=d.optgroupLabelField,j=d.optgroupValueField,k=function(b,c){var e,h,i,j,k=a.trim(b.val()||"");if(k.length){for(i=k.split(d.delimiter),e=0,h=i.length;h>e;e++)j={},j[f]=i[e],j[g]=i[e],c.options[i[e]]=j;c.items=i}},l=function(b,c){var d,k,l,m,n=0,o=c.options,p=function(a){var b=e&&a.attr(e);return"string"==typeof b&&b.length?JSON.parse(b):null},q=function(b,d){var e,i;if(b=a(b),e=b.attr("value")||"",e.length){if(o.hasOwnProperty(e))return void(d&&(o[e].optgroup?a.isArray(o[e].optgroup)?o[e].optgroup.push(d):o[e].optgroup=[o[e].optgroup,d]:o[e].optgroup=d));i=p(b)||{},i[f]=i[f]||b.text(),i[g]=i[g]||e,i[h]=i[h]||d,i.$order=++n,o[e]=i,b.is(":selected")&&c.items.push(e)}},r=function(b){var d,e,f,g,h;for(b=a(b),f=b.attr("label"),f&&(g=p(b)||{},g[i]=f,g[j]=f,c.optgroups[f]=g),h=a("option",b),d=0,e=h.length;e>d;d++)q(h[d],f)};for(c.maxItems=b.attr("multiple")?null:1,m=b.children(),d=0,k=m.length;k>d;d++)l=m[d].tagName.toLowerCase(),"optgroup"===l?r(m[d]):"option"===l&&q(m[d])};return this.each(function(){if(!this.selectize){var d,e=a(this),f=this.tagName.toLowerCase(),g={placeholder:e.children('option[value=""]').text()||e.attr("placeholder"),options:{},optgroups:{},items:[]};"select"===f?l(e,g):k(e,g),d=new L(e,a.extend(!0,{},c,g,b))}})},a.fn.selectize.defaults=L.defaults,L.define("drag_drop",function(){if(!a.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var b=this;b.lock=function(){var a=b.lock;return function(){var c=b.$control.data("sortable");return c&&c.disable(),a.apply(b,arguments)}}(),b.unlock=function(){var a=b.unlock;return function(){var c=b.$control.data("sortable");return c&&c.enable(),a.apply(b,arguments)}}(),b.setup=function(){var c=b.setup;return function(){c.apply(this,arguments);var d=b.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:b.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width")),d.css({overflow:"visible"})},stop:function(){d.css({overflow:"hidden"});var c=b.$activeItems?b.$activeItems.slice():null,e=[];d.children("[data-value]").each(function(){e.push(a(this).attr("data-value"))}),b.setValue(e),b.setActiveItem(c)}})}}()}}),L.define("dropdown_header",function(b){var c=this;b=a.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(a){return'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a href="javascript:void(0)" class="'+a.closeClass+'">&times;</a></div></div>'}},b),c.setup=function(){var d=c.setup;return function(){d.apply(c,arguments),c.$dropdown_header=a(b.html(b)),c.$dropdown.prepend(c.$dropdown_header)}}()}),L.define("optgroup_columns",function(b){var c=this;b=a.extend({equalizeWidth:!0,equalizeHeight:!0},b),this.getAdjacentOption=function(b,c){var d=b.closest("[data-group]").find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},this.onKeyDown=function(){var a=c.onKeyDown;return function(b){var d,e,f,g;return!this.isOpen||b.keyCode!==j&&b.keyCode!==m?a.apply(this,arguments):(c.ignoreHover=!0,g=this.$activeOption.closest("[data-group]"),d=g.find("[data-selectable]").index(this.$activeOption),g=b.keyCode===j?g.prev("[data-group]"):g.next("[data-group]"),f=g.find("[data-selectable]"),e=f.eq(Math.min(f.length-1,d)),void(e.length&&this.setActiveOption(e)))}}();var d=function(){var a,b=d.width,c=document;return"undefined"==typeof b&&(a=c.createElement("div"),a.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',a=a.firstChild,c.body.appendChild(a),b=d.width=a.offsetWidth-a.clientWidth,c.body.removeChild(a)),b},e=function(){var e,f,g,h,i,j,k;if(k=a("[data-group]",c.$dropdown_content),f=k.length,f&&c.$dropdown_content.width()){if(b.equalizeHeight){for(g=0,e=0;f>e;e++)g=Math.max(g,k.eq(e).height());k.css({height:g})}b.equalizeWidth&&(j=c.$dropdown_content.innerWidth()-d(),h=Math.round(j/f),k.css({width:h}),f>1&&(i=j-h*(f-1),k.eq(f-1).css({width:i})))}};(b.equalizeHeight||b.equalizeWidth)&&(B.after(this,"positionDropdown",e),B.after(this,"refreshOptions",e))}),L.define("remove_button",function(b){if("single"!==this.settings.mode){b=a.extend({label:"&times;",title:"Remove",className:"remove",append:!0},b);var c=this,d='<a href="javascript:void(0)" class="'+b.className+'" tabindex="-1" title="'+z(b.title)+'">'+b.label+"</a>",e=function(a,b){var c=a.search(/(<\/[^>]+>\s*)$/);return a.substring(0,c)+b+a.substring(c)};this.setup=function(){var f=c.setup;return function(){if(b.append){var g=c.settings.render.item;c.settings.render.item=function(){return e(g.apply(this,arguments),d)}}f.apply(this,arguments),this.$control.on("click","."+b.className,function(b){if(b.preventDefault(),!c.isLocked){var d=a(b.currentTarget).parent();c.setActiveItem(d),c.deleteSelection()&&c.setCaret(c.items.length)}})}}()}}),L.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]},this.onKeyDown=function(){var c=b.onKeyDown;return function(b){var d,e;return b.keyCode===p&&""===this.$control_input.val()&&!this.$activeItems.length&&(d=this.caretPos-1,d>=0&&d<this.items.length)?(e=this.options[this.items[d]],this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[e])),this.refreshOptions(!0)),void b.preventDefault()):c.apply(this,arguments)}}()}),L});
/*Owl Carousel */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('7(A 3c.3q!=="9"){3c.3q=9(e){9 t(){}t.5S=e;p 5R t}}(9(e,t,n){h r={1N:9(t,n){h r=c;r.$k=e(n);r.6=e.4M({},e.37.2B.6,r.$k.v(),t);r.2A=t;r.4L()},4L:9(){9 r(e){h n,r="";7(A t.6.33==="9"){t.6.33.R(c,[e])}l{1A(n 38 e.d){7(e.d.5M(n)){r+=e.d[n].1K}}t.$k.2y(r)}t.3t()}h t=c,n;7(A t.6.2H==="9"){t.6.2H.R(c,[t.$k])}7(A t.6.2O==="2Y"){n=t.6.2O;e.5K(n,r)}l{t.3t()}},3t:9(){h e=c;e.$k.v("d-4I",e.$k.2x("2w")).v("d-4F",e.$k.2x("H"));e.$k.z({2u:0});e.2t=e.6.q;e.4E();e.5v=0;e.1X=14;e.23()},23:9(){h e=c;7(e.$k.25().N===0){p b}e.1M();e.4C();e.$S=e.$k.25();e.E=e.$S.N;e.4B();e.$G=e.$k.17(".d-1K");e.$K=e.$k.17(".d-1p");e.3u="U";e.13=0;e.26=[0];e.m=0;e.4A();e.4z()},4z:9(){h e=c;e.2V();e.2W();e.4t();e.30();e.4r();e.4q();e.2p();e.4o();7(e.6.2o!==b){e.4n(e.6.2o)}7(e.6.O===j){e.6.O=4Q}e.19();e.$k.17(".d-1p").z("4i","4h");7(!e.$k.2m(":3n")){e.3o()}l{e.$k.z("2u",1)}e.5O=b;e.2l();7(A e.6.3s==="9"){e.6.3s.R(c,[e.$k])}},2l:9(){h e=c;7(e.6.1Z===j){e.1Z()}7(e.6.1B===j){e.1B()}e.4g();7(A e.6.3w==="9"){e.6.3w.R(c,[e.$k])}},3x:9(){h e=c;7(A e.6.3B==="9"){e.6.3B.R(c,[e.$k])}e.3o();e.2V();e.2W();e.4f();e.30();e.2l();7(A e.6.3D==="9"){e.6.3D.R(c,[e.$k])}},3F:9(){h e=c;t.1c(9(){e.3x()},0)},3o:9(){h e=c;7(e.$k.2m(":3n")===b){e.$k.z({2u:0});t.18(e.1C);t.18(e.1X)}l{p b}e.1X=t.4d(9(){7(e.$k.2m(":3n")){e.3F();e.$k.4b({2u:1},2M);t.18(e.1X)}},5x)},4B:9(){h e=c;e.$S.5n(\'<L H="d-1p">\').4a(\'<L H="d-1K"></L>\');e.$k.17(".d-1p").4a(\'<L H="d-1p-49">\');e.1H=e.$k.17(".d-1p-49");e.$k.z("4i","4h")},1M:9(){h e=c,t=e.$k.1I(e.6.1M),n=e.$k.1I(e.6.2i);7(!t){e.$k.I(e.6.1M)}7(!n){e.$k.I(e.6.2i)}},2V:9(){h t=c,n,r;7(t.6.2Z===b){p b}7(t.6.48===j){t.6.q=t.2t=1;t.6.1h=b;t.6.1s=b;t.6.1O=b;t.6.22=b;t.6.1Q=b;t.6.1R=b;p b}n=e(t.6.47).1f();7(n>(t.6.1s[0]||t.2t)){t.6.q=t.2t}7(t.6.1h!==b){t.6.1h.5g(9(e,t){p e[0]-t[0]});1A(r=0;r<t.6.1h.N;r+=1){7(t.6.1h[r][0]<=n){t.6.q=t.6.1h[r][1]}}}l{7(n<=t.6.1s[0]&&t.6.1s!==b){t.6.q=t.6.1s[1]}7(n<=t.6.1O[0]&&t.6.1O!==b){t.6.q=t.6.1O[1]}7(n<=t.6.22[0]&&t.6.22!==b){t.6.q=t.6.22[1]}7(n<=t.6.1Q[0]&&t.6.1Q!==b){t.6.q=t.6.1Q[1]}7(n<=t.6.1R[0]&&t.6.1R!==b){t.6.q=t.6.1R[1]}}7(t.6.q>t.E&&t.6.46===j){t.6.q=t.E}},4r:9(){h n=c,r,i;7(n.6.2Z!==j){p b}i=e(t).1f();n.3d=9(){7(e(t).1f()!==i){7(n.6.O!==b){t.18(n.1C)}t.5d(r);r=t.1c(9(){i=e(t).1f();n.3x()},n.6.45)}};e(t).44(n.3d)},4f:9(){h e=c;e.2g(e.m);7(e.6.O!==b){e.3j()}},43:9(){h t=c,n=0,r=t.E-t.6.q;t.$G.2f(9(i){h s=e(c);s.z({1f:t.M}).v("d-1K",3p(i));7(i%t.6.q===0||i===r){7(!(i>r)){n+=1}}s.v("d-24",n)})},42:9(){h e=c,t=e.$G.N*e.M;e.$K.z({1f:t*2,T:0});e.43()},2W:9(){h e=c;e.40();e.42();e.3Z();e.3v()},40:9(){h e=c;e.M=1F.4O(e.$k.1f()/e.6.q)},3v:9(){h e=c,t=(e.E*e.M-e.6.q*e.M)*-1;7(e.6.q>e.E){e.D=0;t=0;e.3z=0}l{e.D=e.E-e.6.q;e.3z=t}p t},3Y:9(){p 0},3Z:9(){h t=c,n=0,r=0,i,s,o;t.J=[0];t.3E=[];1A(i=0;i<t.E;i+=1){r+=t.M;t.J.2D(-r);7(t.6.12===j){s=e(t.$G[i]);o=s.v("d-24");7(o!==n){t.3E[n]=t.J[i];n=o}}}},4t:9(){h t=c;7(t.6.2a===j||t.6.1v===j){t.B=e(\'<L H="d-5A"/>\').5m("5l",!t.F.15).5c(t.$k)}7(t.6.1v===j){t.3T()}7(t.6.2a===j){t.3S()}},3S:9(){h t=c,n=e(\'<L H="d-4U"/>\');t.B.1o(n);t.1u=e("<L/>",{"H":"d-1n",2y:t.6.2U[0]||""});t.1q=e("<L/>",{"H":"d-U",2y:t.6.2U[1]||""});n.1o(t.1u).1o(t.1q);n.w("2X.B 21.B",\'L[H^="d"]\',9(e){e.1l()});n.w("2n.B 28.B",\'L[H^="d"]\',9(n){n.1l();7(e(c).1I("d-U")){t.U()}l{t.1n()}})},3T:9(){h t=c;t.1k=e(\'<L H="d-1v"/>\');t.B.1o(t.1k);t.1k.w("2n.B 28.B",".d-1j",9(n){n.1l();7(3p(e(c).v("d-1j"))!==t.m){t.1g(3p(e(c).v("d-1j")),j)}})},3P:9(){h t=c,n,r,i,s,o,u;7(t.6.1v===b){p b}t.1k.2y("");n=0;r=t.E-t.E%t.6.q;1A(s=0;s<t.E;s+=1){7(s%t.6.q===0){n+=1;7(r===s){i=t.E-t.6.q}o=e("<L/>",{"H":"d-1j"});u=e("<3N></3N>",{4R:t.6.39===j?n:"","H":t.6.39===j?"d-59":""});o.1o(u);o.v("d-1j",r===s?i:s);o.v("d-24",n);t.1k.1o(o)}}t.35()},35:9(){h t=c;7(t.6.1v===b){p b}t.1k.17(".d-1j").2f(9(){7(e(c).v("d-24")===e(t.$G[t.m]).v("d-24")){t.1k.17(".d-1j").Z("2d");e(c).I("2d")}})},3e:9(){h e=c;7(e.6.2a===b){p b}7(e.6.2e===b){7(e.m===0&&e.D===0){e.1u.I("1b");e.1q.I("1b")}l 7(e.m===0&&e.D!==0){e.1u.I("1b");e.1q.Z("1b")}l 7(e.m===e.D){e.1u.Z("1b");e.1q.I("1b")}l 7(e.m!==0&&e.m!==e.D){e.1u.Z("1b");e.1q.Z("1b")}}},30:9(){h e=c;e.3P();e.3e();7(e.B){7(e.6.q>=e.E){e.B.3K()}l{e.B.3J()}}},55:9(){h e=c;7(e.B){e.B.3k()}},U:9(e){h t=c;7(t.1E){p b}t.m+=t.6.12===j?t.6.q:1;7(t.m>t.D+(t.6.12===j?t.6.q-1:0)){7(t.6.2e===j){t.m=0;e="2k"}l{t.m=t.D;p b}}t.1g(t.m,e)},1n:9(e){h t=c;7(t.1E){p b}7(t.6.12===j&&t.m>0&&t.m<t.6.q){t.m=0}l{t.m-=t.6.12===j?t.6.q:1}7(t.m<0){7(t.6.2e===j){t.m=t.D;e="2k"}l{t.m=0;p b}}t.1g(t.m,e)},1g:9(e,n,r){h i=c,s;7(i.1E){p b}7(A i.6.1Y==="9"){i.6.1Y.R(c,[i.$k])}7(e>=i.D){e=i.D}l 7(e<=0){e=0}i.m=i.d.m=e;7(i.6.2o!==b&&r!=="4e"&&i.6.q===1&&i.F.1x===j){i.1t(0);7(i.F.1x===j){i.1L(i.J[e])}l{i.1r(i.J[e],1)}i.2r();i.4l();p b}s=i.J[e];7(i.F.1x===j){i.1T=b;7(n===j){i.1t("1w");t.1c(9(){i.1T=j},i.6.1w)}l 7(n==="2k"){i.1t(i.6.2v);t.1c(9(){i.1T=j},i.6.2v)}l{i.1t("1m");t.1c(9(){i.1T=j},i.6.1m)}i.1L(s)}l{7(n===j){i.1r(s,i.6.1w)}l 7(n==="2k"){i.1r(s,i.6.2v)}l{i.1r(s,i.6.1m)}}i.2r()},2g:9(e){h t=c;7(A t.6.1Y==="9"){t.6.1Y.R(c,[t.$k])}7(e>=t.D||e===-1){e=t.D}l 7(e<=0){e=0}t.1t(0);7(t.F.1x===j){t.1L(t.J[e])}l{t.1r(t.J[e],1)}t.m=t.d.m=e;t.2r()},2r:9(){h e=c;e.26.2D(e.m);e.13=e.d.13=e.26[e.26.N-2];e.26.5f(0);7(e.13!==e.m){e.35();e.3e();e.2l();7(e.6.O!==b){e.3j()}}7(A e.6.3y==="9"&&e.13!==e.m){e.6.3y.R(c,[e.$k])}},X:9(){h e=c;e.3A="X";t.18(e.1C)},3j:9(){h e=c;7(e.3A!=="X"){e.19()}},19:9(){h e=c;e.3A="19";7(e.6.O===b){p b}t.18(e.1C);e.1C=t.4d(9(){e.U(j)},e.6.O)},1t:9(e){h t=c;7(e==="1m"){t.$K.z(t.2z(t.6.1m))}l 7(e==="1w"){t.$K.z(t.2z(t.6.1w))}l 7(A e!=="2Y"){t.$K.z(t.2z(e))}},2z:9(e){p{"-1G-1a":"2C "+e+"1z 2s","-1W-1a":"2C "+e+"1z 2s","-o-1a":"2C "+e+"1z 2s",1a:"2C "+e+"1z 2s"}},3H:9(){p{"-1G-1a":"","-1W-1a":"","-o-1a":"",1a:""}},3I:9(e){p{"-1G-P":"1i("+e+"V, C, C)","-1W-P":"1i("+e+"V, C, C)","-o-P":"1i("+e+"V, C, C)","-1z-P":"1i("+e+"V, C, C)",P:"1i("+e+"V, C,C)"}},1L:9(e){h t=c;t.$K.z(t.3I(e))},3L:9(e){h t=c;t.$K.z({T:e})},1r:9(e,t){h n=c;n.29=b;n.$K.X(j,j).4b({T:e},{54:t||n.6.1m,3M:9(){n.29=j}})},4E:9(){h e=c,r="1i(C, C, C)",i=n.56("L"),s,o,u,a;i.2w.3O="  -1W-P:"+r+"; -1z-P:"+r+"; -o-P:"+r+"; -1G-P:"+r+"; P:"+r;s=/1i\\(C, C, C\\)/g;o=i.2w.3O.5i(s);u=o!==14&&o.N===1;a="5z"38 t||t.5Q.4P;e.F={1x:u,15:a}},4q:9(){h e=c;7(e.6.27!==b||e.6.1U!==b){e.3Q();e.3R()}},4C:9(){h e=c,t=["s","e","x"];e.16={};7(e.6.27===j&&e.6.1U===j){t=["2X.d 21.d","2N.d 3U.d","2n.d 3V.d 28.d"]}l 7(e.6.27===b&&e.6.1U===j){t=["2X.d","2N.d","2n.d 3V.d"]}l 7(e.6.27===j&&e.6.1U===b){t=["21.d","3U.d","28.d"]}e.16.3W=t[0];e.16.2K=t[1];e.16.2J=t[2]},3R:9(){h t=c;t.$k.w("5y.d",9(e){e.1l()});t.$k.w("21.3X",9(t){p e(t.1d).2m("5C, 5E, 5F, 5N")})},3Q:9(){9 s(e){7(e.2b!==W){p{x:e.2b[0].2c,y:e.2b[0].41}}7(e.2b===W){7(e.2c!==W){p{x:e.2c,y:e.41}}7(e.2c===W){p{x:e.52,y:e.53}}}}9 o(t){7(t==="w"){e(n).w(r.16.2K,a);e(n).w(r.16.2J,f)}l 7(t==="Q"){e(n).Q(r.16.2K);e(n).Q(r.16.2J)}}9 u(n){h u=n.3h||n||t.3g,a;7(u.5a===3){p b}7(r.E<=r.6.q){p}7(r.29===b&&!r.6.3f){p b}7(r.1T===b&&!r.6.3f){p b}7(r.6.O!==b){t.18(r.1C)}7(r.F.15!==j&&!r.$K.1I("3b")){r.$K.I("3b")}r.11=0;r.Y=0;e(c).z(r.3H());a=e(c).2h();i.2S=a.T;i.2R=s(u).x-a.T;i.2P=s(u).y-a.5o;o("w");i.2j=b;i.2L=u.1d||u.4c}9 a(o){h u=o.3h||o||t.3g,a,f;r.11=s(u).x-i.2R;r.2I=s(u).y-i.2P;r.Y=r.11-i.2S;7(A r.6.2E==="9"&&i.3C!==j&&r.Y!==0){i.3C=j;r.6.2E.R(r,[r.$k])}7((r.Y>8||r.Y<-8)&&r.F.15===j){7(u.1l!==W){u.1l()}l{u.5L=b}i.2j=j}7((r.2I>10||r.2I<-10)&&i.2j===b){e(n).Q("2N.d")}a=9(){p r.Y/5};f=9(){p r.3z+r.Y/5};r.11=1F.3v(1F.3Y(r.11,a()),f());7(r.F.1x===j){r.1L(r.11)}l{r.3L(r.11)}}9 f(n){h s=n.3h||n||t.3g,u,a,f;s.1d=s.1d||s.4c;i.3C=b;7(r.F.15!==j){r.$K.Z("3b")}7(r.Y<0){r.1y=r.d.1y="T"}l{r.1y=r.d.1y="3i"}7(r.Y!==0){u=r.4j();r.1g(u,b,"4e");7(i.2L===s.1d&&r.F.15!==j){e(s.1d).w("3a.4k",9(t){t.4S();t.4T();t.1l();e(t.1d).Q("3a.4k")});a=e.4N(s.1d,"4V").3a;f=a.4W();a.4X(0,0,f)}}o("Q")}h r=c,i={2R:0,2P:0,4Y:0,2S:0,2h:14,4Z:14,50:14,2j:14,51:14,2L:14};r.29=j;r.$k.w(r.16.3W,".d-1p",u)},4j:9(){h e=c,t=e.4m();7(t>e.D){e.m=e.D;t=e.D}l 7(e.11>=0){t=0;e.m=0}p t},4m:9(){h t=c,n=t.6.12===j?t.3E:t.J,r=t.11,i=14;e.2f(n,9(s,o){7(r-t.M/20>n[s+1]&&r-t.M/20<o&&t.34()==="T"){i=o;7(t.6.12===j){t.m=e.4p(i,t.J)}l{t.m=s}}l 7(r+t.M/20<o&&r+t.M/20>(n[s+1]||n[s]-t.M)&&t.34()==="3i"){7(t.6.12===j){i=n[s+1]||n[n.N-1];t.m=e.4p(i,t.J)}l{i=n[s+1];t.m=s+1}}});p t.m},34:9(){h e=c,t;7(e.Y<0){t="3i";e.3u="U"}l{t="T";e.3u="1n"}p t},4A:9(){h e=c;e.$k.w("d.U",9(){e.U()});e.$k.w("d.1n",9(){e.1n()});e.$k.w("d.19",9(t,n){e.6.O=n;e.19();e.32="19"});e.$k.w("d.X",9(){e.X();e.32="X"});e.$k.w("d.1g",9(t,n){e.1g(n)});e.$k.w("d.2g",9(t,n){e.2g(n)})},2p:9(){h e=c;7(e.6.2p===j&&e.F.15!==j&&e.6.O!==b){e.$k.w("57",9(){e.X()});e.$k.w("58",9(){7(e.32!=="X"){e.19()}})}},1Z:9(){h t=c,n,r,i,s,o;7(t.6.1Z===b){p b}1A(n=0;n<t.E;n+=1){r=e(t.$G[n]);7(r.v("d-1e")==="1e"){4s}i=r.v("d-1K");s=r.17(".5b");7(A s.v("1J")!=="2Y"){r.v("d-1e","1e");4s}7(r.v("d-1e")===W){s.3K();r.I("4u").v("d-1e","5e")}7(t.6.4v===j){o=i>=t.m}l{o=j}7(o&&i<t.m+t.6.q&&s.N){t.4w(r,s)}}},4w:9(e,n){9 o(){e.v("d-1e","1e").Z("4u");n.5h("v-1J");7(r.6.4x==="4y"){n.5j(5k)}l{n.3J()}7(A r.6.2T==="9"){r.6.2T.R(c,[r.$k])}}9 u(){i+=1;7(r.2Q(n.3l(0))||s===j){o()}l 7(i<=2q){t.1c(u,2q)}l{o()}}h r=c,i=0,s;7(n.5p("5q")==="5r"){n.z("5s-5t","5u("+n.v("1J")+")");s=j}l{n[0].1J=n.v("1J")}u()},1B:9(){9 s(){h r=e(n.$G[n.m]).2G();n.1H.z("2G",r+"V");7(!n.1H.1I("1B")){t.1c(9(){n.1H.I("1B")},0)}}9 o(){i+=1;7(n.2Q(r.3l(0))){s()}l 7(i<=2q){t.1c(o,2q)}l{n.1H.z("2G","")}}h n=c,r=e(n.$G[n.m]).17("5w"),i;7(r.3l(0)!==W){i=0;o()}l{s()}},2Q:9(e){h t;7(!e.3M){p b}t=A e.4D;7(t!=="W"&&e.4D===0){p b}p j},4g:9(){h t=c,n;7(t.6.2F===j){t.$G.Z("2d")}t.1D=[];1A(n=t.m;n<t.m+t.6.q;n+=1){t.1D.2D(n);7(t.6.2F===j){e(t.$G[n]).I("2d")}}t.d.1D=t.1D},4n:9(e){h t=c;t.4G="d-"+e+"-5B";t.4H="d-"+e+"-38"},4l:9(){9 a(e){p{2h:"5D",T:e+"V"}}h e=c,t=e.4G,n=e.4H,r=e.$G.1S(e.m),i=e.$G.1S(e.13),s=1F.4J(e.J[e.m])+e.J[e.13],o=1F.4J(e.J[e.m])+e.M/2,u="5G 5H 5I 5J";e.1E=j;e.$K.I("d-1P").z({"-1G-P-1P":o+"V","-1W-4K-1P":o+"V","4K-1P":o+"V"});i.z(a(s,10)).I(t).w(u,9(){e.3m=j;i.Q(u);e.31(i,t)});r.I(n).w(u,9(){e.36=j;r.Q(u);e.31(r,n)})},31:9(e,t){h n=c;e.z({2h:"",T:""}).Z(t);7(n.3m&&n.36){n.$K.Z("d-1P");n.3m=b;n.36=b;n.1E=b}},4o:9(){h e=c;e.d={2A:e.2A,5P:e.$k,S:e.$S,G:e.$G,m:e.m,13:e.13,1D:e.1D,15:e.F.15,F:e.F,1y:e.1y}},3G:9(){h r=c;r.$k.Q(".d d 21.3X");e(n).Q(".d d");e(t).Q("44",r.3d)},1V:9(){h e=c;7(e.$k.25().N!==0){e.$K.3r();e.$S.3r().3r();7(e.B){e.B.3k()}}e.3G();e.$k.2x("2w",e.$k.v("d-4I")||"").2x("H",e.$k.v("d-4F"))},5T:9(){h e=c;e.X();t.18(e.1X);e.1V();e.$k.5U()},5V:9(t){h n=c,r=e.4M({},n.2A,t);n.1V();n.1N(r,n.$k)},5W:9(e,t){h n=c,r;7(!e){p b}7(n.$k.25().N===0){n.$k.1o(e);n.23();p b}n.1V();7(t===W||t===-1){r=-1}l{r=t}7(r>=n.$S.N||r===-1){n.$S.1S(-1).5X(e)}l{n.$S.1S(r).5Y(e)}n.23()},5Z:9(e){h t=c,n;7(t.$k.25().N===0){p b}7(e===W||e===-1){n=-1}l{n=e}t.1V();t.$S.1S(n).3k();t.23()}};e.37.2B=9(t){p c.2f(9(){7(e(c).v("d-1N")===j){p b}e(c).v("d-1N",j);h n=3c.3q(r);n.1N(t,c);e.v(c,"2B",n)})};e.37.2B.6={q:5,1h:b,1s:[60,4],1O:[61,3],22:[62,2],1Q:b,1R:[63,1],48:b,46:b,1m:2M,1w:64,2v:65,O:b,2p:b,2a:b,2U:["1n","U"],2e:j,12:b,1v:j,39:b,2Z:j,45:2M,47:t,1M:"d-66",2i:"d-2i",1Z:b,4v:j,4x:"4y",1B:b,2O:b,33:b,3f:j,27:j,1U:j,2F:b,2o:b,3B:b,3D:b,2H:b,3s:b,1Y:b,3y:b,3w:b,2E:b,2T:b}})(67,68,69)',62,382,'||||||options|if||function||false|this|owl||||var||true|elem|else|currentItem|||return|items|||||data|on|||css|typeof|owlControls|0px|maximumItem|itemsAmount|browser|owlItems|class|addClass|positionsInArray|owlWrapper|div|itemWidth|length|autoPlay|transform|off|apply|userItems|left|next|px|undefined|stop|newRelativeX|removeClass||newPosX|scrollPerPage|prevItem|null|isTouch|ev_types|find|clearInterval|play|transition|disabled|setTimeout|target|loaded|width|goTo|itemsCustom|translate3d|page|paginationWrapper|preventDefault|slideSpeed|prev|append|wrapper|buttonNext|css2slide|itemsDesktop|swapSpeed|buttonPrev|pagination|paginationSpeed|support3d|dragDirection|ms|for|autoHeight|autoPlayInterval|visibleItems|isTransition|Math|webkit|wrapperOuter|hasClass|src|item|transition3d|baseClass|init|itemsDesktopSmall|origin|itemsTabletSmall|itemsMobile|eq|isCss3Finish|touchDrag|unWrap|moz|checkVisible|beforeMove|lazyLoad||mousedown|itemsTablet|setVars|roundPages|children|prevArr|mouseDrag|mouseup|isCssFinish|navigation|touches|pageX|active|rewindNav|each|jumpTo|position|theme|sliding|rewind|eachMoveUpdate|is|touchend|transitionStyle|stopOnHover|100|afterGo|ease|orignalItems|opacity|rewindSpeed|style|attr|html|addCssSpeed|userOptions|owlCarousel|all|push|startDragging|addClassActive|height|beforeInit|newPosY|end|move|targetElement|200|touchmove|jsonPath|offsetY|completeImg|offsetX|relativePos|afterLazyLoad|navigationText|updateItems|calculateAll|touchstart|string|responsive|updateControls|clearTransStyle|hoverStatus|jsonSuccess|moveDirection|checkPagination|endCurrent|fn|in|paginationNumbers|click|grabbing|Object|resizer|checkNavigation|dragBeforeAnimFinish|event|originalEvent|right|checkAp|remove|get|endPrev|visible|watchVisibility|Number|create|unwrap|afterInit|logIn|playDirection|max|afterAction|updateVars|afterMove|maximumPixels|apStatus|beforeUpdate|dragging|afterUpdate|pagesInArray|reload|clearEvents|removeTransition|doTranslate|show|hide|css2move|complete|span|cssText|updatePagination|gestures|disabledEvents|buildButtons|buildPagination|mousemove|touchcancel|start|disableTextSelect|min|loops|calculateWidth|pageY|appendWrapperSizes|appendItemsSizes|resize|responsiveRefreshRate|itemsScaleUp|responsiveBaseWidth|singleItem|outer|wrap|animate|srcElement|setInterval|drag|updatePosition|onVisibleItems|block|display|getNewPosition|disable|singleItemTransition|closestItem|transitionTypes|owlStatus|inArray|moveEvents|response|continue|buildControls|loading|lazyFollow|lazyPreload|lazyEffect|fade|onStartup|customEvents|wrapItems|eventTypes|naturalWidth|checkBrowser|originalClasses|outClass|inClass|originalStyles|abs|perspective|loadContent|extend|_data|round|msMaxTouchPoints|5e3|text|stopImmediatePropagation|stopPropagation|buttons|events|pop|splice|baseElWidth|minSwipe|maxSwipe|dargging|clientX|clientY|duration|destroyControls|createElement|mouseover|mouseout|numbers|which|lazyOwl|appendTo|clearTimeout|checked|shift|sort|removeAttr|match|fadeIn|400|clickable|toggleClass|wrapAll|top|prop|tagName|DIV|background|image|url|wrapperWidth|img|500|dragstart|ontouchstart|controls|out|input|relative|textarea|select|webkitAnimationEnd|oAnimationEnd|MSAnimationEnd|animationend|getJSON|returnValue|hasOwnProperty|option|onstartup|baseElement|navigator|new|prototype|destroy|removeData|reinit|addItem|after|before|removeItem|1199|979|768|479|800|1e3|carousel|jQuery|window|document'.split('|'),0,{}));
/*jquery elevateZoom */
"function"!=typeof Object.create&&(Object.create=function(o){function i(){}return i.prototype=o,new i}),function(o,i,t,e){var n={init:function(i,t){var e=this;e.elem=t,e.$elem=o(t),e.imageSrc=e.$elem.data("zoom-image")?e.$elem.data("zoom-image"):e.$elem.attr("src"),e.options=o.extend({},o.fn.elevateZoom.options,i),e.options.tint&&(e.options.lensColour="none",e.options.lensOpacity="1"),"inner"==e.options.zoomType&&(e.options.showLens=!1),e.$elem.parent().removeAttr("title").removeAttr("alt"),e.zoomImage=e.imageSrc,e.refresh(1),o("#"+e.options.gallery+" a").click(function(i){return e.options.galleryActiveClass&&(o("#"+e.options.gallery+" a").removeClass(e.options.galleryActiveClass),o(this).addClass(e.options.galleryActiveClass)),i.preventDefault(),o(this).data("zoom-image")?e.zoomImagePre=o(this).data("zoom-image"):e.zoomImagePre=o(this).data("image"),e.swaptheimage(o(this).data("image"),e.zoomImagePre),!1})},refresh:function(o){var i=this;setTimeout(function(){i.fetch(i.imageSrc)},o||i.options.refresh)},fetch:function(o){var i=this,t=new Image;t.onload=function(){i.largeWidth=t.width,i.largeHeight=t.height,i.startZoom(),i.currentImage=i.imageSrc,i.options.onZoomedImageLoaded(i.$elem)},t.src=o},startZoom:function(){var i=this;if(i.nzWidth=i.$elem.width(),i.nzHeight=i.$elem.height(),i.isWindowActive=!1,i.isLensActive=!1,i.isTintActive=!1,i.overWindow=!1,i.options.imageCrossfade&&(i.zoomWrap=i.$elem.wrap('<div style="height:'+i.nzHeight+"px;width:"+i.nzWidth+'px;" class="zoomWrapper" />'),i.$elem.css("position","absolute")),i.zoomLock=1,i.scrollingLock=!1,i.changeBgSize=!1,i.currentZoomLevel=i.options.zoomLevel,i.nzOffset=i.$elem.offset(),i.widthRatio=i.largeWidth/i.currentZoomLevel/i.nzWidth,i.heightRatio=i.largeHeight/i.currentZoomLevel/i.nzHeight,"window"==i.options.zoomType&&(i.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(i.options.zoomWindowBgColour)+";width: "+String(i.options.zoomWindowWidth)+"px;height: "+String(i.options.zoomWindowHeight)+"px;float: left;background-size: "+i.largeWidth/i.currentZoomLevel+"px "+i.largeHeight/i.currentZoomLevel+"px;display: none;z-index:100;border: "+String(i.options.borderSize)+"px solid "+i.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==i.options.zoomType){var t=i.$elem.css("border-left-width");i.zoomWindowStyle="overflow: hidden;margin-left: "+String(t)+";margin-top: "+String(t)+";background-position: 0px 0px;width: "+String(i.nzWidth)+"px;height: "+String(i.nzHeight)+"px;float: left;display: none;cursor:"+i.options.cursor+";px solid "+i.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==i.options.zoomType&&(i.nzHeight<i.options.zoomWindowWidth/i.widthRatio?lensHeight=i.nzHeight:lensHeight=String(i.options.zoomWindowHeight/i.heightRatio),i.largeWidth<i.options.zoomWindowWidth?lensWidth=i.nzWidth:lensWidth=i.options.zoomWindowWidth/i.widthRatio,i.lensStyle="background-position: 0px 0px;width: "+String(i.options.zoomWindowWidth/i.widthRatio)+"px;height: "+String(i.options.zoomWindowHeight/i.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+i.options.lensOpacity+";filter: alpha(opacity = "+100*i.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+i.options.lensColour+";cursor:"+i.options.cursor+";border: "+i.options.lensBorderSize+"px solid "+i.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),i.tintStyle="display: block;position: absolute;background-color: "+i.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+i.nzWidth+"px;height: "+i.nzHeight+"px;",i.lensRound="","lens"==i.options.zoomType&&(i.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(i.options.borderSize)+"px solid "+i.options.borderColour+";width:"+String(i.options.lensSize)+"px;height:"+String(i.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==i.options.lensShape&&(i.lensRound="border-top-left-radius: "+String(i.options.lensSize/2+i.options.borderSize)+"px;border-top-right-radius: "+String(i.options.lensSize/2+i.options.borderSize)+"px;border-bottom-left-radius: "+String(i.options.lensSize/2+i.options.borderSize)+"px;border-bottom-right-radius: "+String(i.options.lensSize/2+i.options.borderSize)+"px;"),i.zoomContainer=o('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+i.nzOffset.left+"px;top:"+i.nzOffset.top+"px;height:"+i.nzHeight+"px;width:"+i.nzWidth+'px;"></div>'),o("body").append(i.zoomContainer),i.options.containLensZoom&&"lens"==i.options.zoomType&&i.zoomContainer.css("overflow","hidden"),"inner"!=i.options.zoomType&&(i.zoomLens=o("<div class='zoomLens' style='"+i.lensStyle+i.lensRound+"'>&nbsp;</div>").appendTo(i.zoomContainer).click(function(){i.$elem.trigger("click")}),i.options.tint&&(i.tintContainer=o("<div/>").addClass("tintContainer"),i.zoomTint=o("<div class='zoomTint' style='"+i.tintStyle+"'></div>"),i.zoomLens.wrap(i.tintContainer),i.zoomTintcss=i.zoomLens.after(i.zoomTint),i.zoomTintImage=o('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+i.nzWidth+"px; height: "+i.nzHeight+'px;" src="'+i.imageSrc+'">').appendTo(i.zoomLens).click(function(){i.$elem.trigger("click")}))),isNaN(i.options.zoomWindowPosition)?i.zoomWindow=o("<div style='z-index:999;left:"+i.windowOffsetLeft+"px;top:"+i.windowOffsetTop+"px;"+i.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){i.$elem.trigger("click")}):i.zoomWindow=o("<div style='z-index:999;left:"+i.windowOffsetLeft+"px;top:"+i.windowOffsetTop+"px;"+i.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(i.zoomContainer).click(function(){i.$elem.trigger("click")}),i.zoomWindowContainer=o("<div/>").addClass("zoomWindowContainer").css("width",i.options.zoomWindowWidth),i.zoomWindow.wrap(i.zoomWindowContainer),"lens"==i.options.zoomType&&i.zoomLens.css({backgroundImage:"url('"+i.imageSrc+"')"}),"window"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+i.imageSrc+"')"}),"inner"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+i.imageSrc+"')"}),i.$elem.bind("touchmove",function(o){o.preventDefault();var t=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];i.setPosition(t)}),i.zoomContainer.bind("touchmove",function(o){"inner"==i.options.zoomType&&i.showHideWindow("show"),o.preventDefault();var t=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];i.setPosition(t)}),i.zoomContainer.bind("touchend",function(o){i.showHideWindow("hide"),i.options.showLens&&i.showHideLens("hide"),i.options.tint&&"inner"!=i.options.zoomType&&i.showHideTint("hide")}),i.$elem.bind("touchend",function(o){i.showHideWindow("hide"),i.options.showLens&&i.showHideLens("hide"),i.options.tint&&"inner"!=i.options.zoomType&&i.showHideTint("hide")}),i.options.showLens&&(i.zoomLens.bind("touchmove",function(o){o.preventDefault();var t=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];i.setPosition(t)}),i.zoomLens.bind("touchend",function(o){i.showHideWindow("hide"),i.options.showLens&&i.showHideLens("hide"),i.options.tint&&"inner"!=i.options.zoomType&&i.showHideTint("hide")})),i.$elem.bind("mousemove",function(o){0==i.overWindow&&i.setElements("show"),i.lastX===o.clientX&&i.lastY===o.clientY||(i.setPosition(o),i.currentLoc=o),i.lastX=o.clientX,i.lastY=o.clientY}),i.zoomContainer.bind("mousemove",function(o){0==i.overWindow&&i.setElements("show"),i.lastX===o.clientX&&i.lastY===o.clientY||(i.setPosition(o),i.currentLoc=o),i.lastX=o.clientX,i.lastY=o.clientY}),"inner"!=i.options.zoomType&&i.zoomLens.bind("mousemove",function(o){i.lastX===o.clientX&&i.lastY===o.clientY||(i.setPosition(o),i.currentLoc=o),i.lastX=o.clientX,i.lastY=o.clientY}),i.options.tint&&"inner"!=i.options.zoomType&&i.zoomTint.bind("mousemove",function(o){i.lastX===o.clientX&&i.lastY===o.clientY||(i.setPosition(o),i.currentLoc=o),i.lastX=o.clientX,i.lastY=o.clientY}),"inner"==i.options.zoomType&&i.zoomWindow.bind("mousemove",function(o){i.lastX===o.clientX&&i.lastY===o.clientY||(i.setPosition(o),i.currentLoc=o),i.lastX=o.clientX,i.lastY=o.clientY}),i.zoomContainer.add(i.$elem).mouseenter(function(){0==i.overWindow&&i.setElements("show")}).mouseleave(function(){i.scrollLock||i.setElements("hide")}),"inner"!=i.options.zoomType&&i.zoomWindow.mouseenter(function(){i.overWindow=!0,i.setElements("hide")}).mouseleave(function(){i.overWindow=!1}),i.options.zoomLevel,i.options.minZoomLevel?i.minZoomLevel=i.options.minZoomLevel:i.minZoomLevel=2*i.options.scrollZoomIncrement,i.options.scrollZoom&&i.zoomContainer.add(i.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(t){i.scrollLock=!0,clearTimeout(o.data(this,"timer")),o.data(this,"timer",setTimeout(function(){i.scrollLock=!1},250));var e=t.originalEvent.wheelDelta||-1*t.originalEvent.detail;return t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e/120>0?i.currentZoomLevel>=i.minZoomLevel&&i.changeZoomLevel(i.currentZoomLevel-i.options.scrollZoomIncrement):i.options.maxZoomLevel?i.currentZoomLevel<=i.options.maxZoomLevel&&i.changeZoomLevel(parseFloat(i.currentZoomLevel)+i.options.scrollZoomIncrement):i.changeZoomLevel(parseFloat(i.currentZoomLevel)+i.options.scrollZoomIncrement),!1})},setElements:function(o){if(!this.options.zoomEnabled)return!1;"show"==o&&this.isWindowSet&&("inner"==this.options.zoomType&&this.showHideWindow("show"),"window"==this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner"!=this.options.zoomType&&this.showHideTint("show")),"hide"==o&&("window"==this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide"))},setPosition:function(o){if(!this.options.zoomEnabled)return!1;this.nzHeight=this.$elem.height(),this.nzWidth=this.$elem.width(),this.nzOffset=this.$elem.offset(),this.options.tint&&"inner"!=this.options.zoomType&&(this.zoomTint.css({top:0}),this.zoomTint.css({left:0})),this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.largeWidth<this.options.zoomWindowWidth?lensWidth=this.nzWidth:lensWidth=this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens"!=this.options.zoomType&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.options.zoomWindowWidth<this.options.zoomWindowWidth?lensWidth=this.nzWidth:lensWidth=this.options.zoomWindowWidth/this.widthRatio,this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight),this.options.tint&&(this.zoomTintImage.css("width",this.nzWidth),this.zoomTintImage.css("height",this.nzHeight))),"lens"==this.options.zoomType&&this.zoomLens.css({width:String(this.options.lensSize)+"px",height:String(this.options.lensSize)+"px"})),this.zoomContainer.css({top:this.nzOffset.top}),this.zoomContainer.css({left:this.nzOffset.left}),this.mouseLeft=parseInt(o.pageX-this.nzOffset.left),this.mouseTop=parseInt(o.pageY-this.nzOffset.top),"window"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.zoomLens.height()/2,this.Eboppos=this.mouseTop>this.nzHeight-this.zoomLens.height()/2-2*this.options.lensBorderSize,this.Eloppos=this.mouseLeft<0+this.zoomLens.width()/2,this.Eroppos=this.mouseLeft>this.nzWidth-this.zoomLens.width()/2-2*this.options.lensBorderSize),"inner"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/2/this.heightRatio,this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<0+this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize),this.mouseLeft<=0||this.mouseTop<0||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=String(this.mouseLeft-this.zoomLens.width()/2),this.lensTopPos=String(this.mouseTop-this.zoomLens.height()/2)),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.windowLeftPos=0,this.lensLeftPos=0,this.tintpos=0),"window"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"==this.options.zoomType&&(this.windowLeftPos=String(-1*((o.pageX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2)),this.windowTopPos=String(-1*((o.pageY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2)),this.zoomLens.css({backgroundPosition:this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=!1),this.setWindowPostition(o)),this.options.tint&&"inner"!=this.options.zoomType&&this.setTintPosition(o),"window"==this.options.zoomType&&this.setWindowPostition(o),"inner"==this.options.zoomType&&this.setWindowPostition(o),this.options.showLens&&(this.fullwidth&&"lens"!=this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos+"px",top:this.lensTopPos+"px"})))},showHideWindow:function(o){"show"==o&&(this.isWindowActive||(this.options.zoomWindowFadeIn?this.zoomWindow.stop(!0,!0,!1).fadeIn(this.options.zoomWindowFadeIn):this.zoomWindow.show(),this.isWindowActive=!0)),"hide"==o&&this.isWindowActive&&(this.options.zoomWindowFadeOut?this.zoomWindow.stop(!0,!0).fadeOut(this.options.zoomWindowFadeOut):this.zoomWindow.hide(),this.isWindowActive=!1)},showHideLens:function(o){"show"==o&&(this.isLensActive||(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show(),this.isLensActive=!0)),"hide"==o&&this.isLensActive&&(this.options.lensFadeOut?this.zoomLens.stop(!0,!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide(),this.isLensActive=!1)},showHideTint:function(o){"show"==o&&(this.isTintActive||(this.options.zoomTintFadeIn?this.zoomTint.css({opacity:this.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(this.zoomTint.css({opacity:this.options.tintOpacity}).animate(),this.zoomTint.show()),this.isTintActive=!0)),"hide"==o&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),this.isTintActive=!1)},setLensPostition:function(o){},setWindowPostition:function(i){var t=this;if(isNaN(t.options.zoomWindowPosition))t.externalContainer=o("#"+t.options.zoomWindowPosition),t.externalContainerWidth=t.externalContainer.width(),t.externalContainerHeight=t.externalContainer.height(),t.externalContainerOffset=t.externalContainer.offset(),t.windowOffsetTop=t.externalContainerOffset.top,t.windowOffsetLeft=t.externalContainerOffset.left;else switch(t.options.zoomWindowPosition){case 1:t.windowOffsetTop=t.options.zoomWindowOffety,t.windowOffsetLeft=+t.nzWidth;break;case 2:t.options.zoomWindowHeight>t.nzHeight&&(t.windowOffsetTop=-1*(t.options.zoomWindowHeight/2-t.nzHeight/2),t.windowOffsetLeft=t.nzWidth);break;case 3:t.windowOffsetTop=t.nzHeight-t.zoomWindow.height()-2*t.options.borderSize,t.windowOffsetLeft=t.nzWidth;break;case 4:t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=t.nzWidth;break;case 5:t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=t.nzWidth-t.zoomWindow.width()-2*t.options.borderSize;break;case 6:t.options.zoomWindowHeight>t.nzHeight&&(t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=-1*(t.options.zoomWindowWidth/2-t.nzWidth/2+2*t.options.borderSize));break;case 7:t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=0;break;case 8:t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize);break;case 9:t.windowOffsetTop=t.nzHeight-t.zoomWindow.height()-2*t.options.borderSize,t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize);break;case 10:t.options.zoomWindowHeight>t.nzHeight&&(t.windowOffsetTop=-1*(t.options.zoomWindowHeight/2-t.nzHeight/2),t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize));break;case 11:t.windowOffsetTop=t.options.zoomWindowOffety,t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize);break;case 12:t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize);break;case 13:t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=0;break;case 14:t.options.zoomWindowHeight>t.nzHeight&&(t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=-1*(t.options.zoomWindowWidth/2-t.nzWidth/2+2*t.options.borderSize));break;case 15:t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=t.nzWidth-t.zoomWindow.width()-2*t.options.borderSize;break;case 16:t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=t.nzWidth;break;default:t.windowOffsetTop=t.options.zoomWindowOffety,t.windowOffsetLeft=t.nzWidth}t.isWindowSet=!0,t.windowOffsetTop=t.windowOffsetTop+t.options.zoomWindowOffety,t.windowOffsetLeft=t.windowOffsetLeft+t.options.zoomWindowOffetx,t.zoomWindow.css({top:t.windowOffsetTop}),t.zoomWindow.css({left:t.windowOffsetLeft}),"inner"==t.options.zoomType&&(t.zoomWindow.css({top:0}),t.zoomWindow.css({left:0})),t.windowLeftPos=String(-1*((i.pageX-t.nzOffset.left)*t.widthRatio-t.zoomWindow.width()/2)),t.windowTopPos=String(-1*((i.pageY-t.nzOffset.top)*t.heightRatio-t.zoomWindow.height()/2)),t.Etoppos&&(t.windowTopPos=0),t.Eloppos&&(t.windowLeftPos=0),t.Eboppos&&(t.windowTopPos=-1*(t.largeHeight/t.currentZoomLevel-t.zoomWindow.height())),t.Eroppos&&(t.windowLeftPos=-1*(t.largeWidth/t.currentZoomLevel-t.zoomWindow.width())),t.fullheight&&(t.windowTopPos=0),t.fullwidth&&(t.windowLeftPos=0),"window"!=t.options.zoomType&&"inner"!=t.options.zoomType||(1==t.zoomLock&&(t.widthRatio<=1&&(t.windowLeftPos=0),t.heightRatio<=1&&(t.windowTopPos=0)),t.largeHeight<t.options.zoomWindowHeight&&(t.windowTopPos=0),t.largeWidth<t.options.zoomWindowWidth&&(t.windowLeftPos=0),t.options.easing?(t.xp||(t.xp=0),t.yp||(t.yp=0),t.loop||(t.loop=setInterval(function(){t.xp+=(t.windowLeftPos-t.xp)/t.options.easingAmount,t.yp+=(t.windowTopPos-t.yp)/t.options.easingAmount,t.scrollingLock?(clearInterval(t.loop),t.xp=t.windowLeftPos,t.yp=t.windowTopPos,t.xp=-1*((i.pageX-t.nzOffset.left)*t.widthRatio-t.zoomWindow.width()/2),t.yp=-1*((i.pageY-t.nzOffset.top)*t.heightRatio-t.zoomWindow.height()/2),t.changeBgSize&&(t.nzHeight>t.nzWidth?("lens"==t.options.zoomType&&t.zoomLens.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})):("lens"!=t.options.zoomType&&t.zoomLens.css({"background-size":t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({"background-size":t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"})),t.changeBgSize=!1),t.zoomWindow.css({backgroundPosition:t.windowLeftPos+"px "+t.windowTopPos+"px"}),t.scrollingLock=!1,t.loop=!1):(t.changeBgSize&&(t.nzHeight>t.nzWidth?("lens"==t.options.zoomType&&t.zoomLens.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})):("lens"!=t.options.zoomType&&t.zoomLens.css({"background-size":t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"}),t.zoomWindow.css({"background-size":t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"})),t.changeBgSize=!1),t.zoomWindow.css({backgroundPosition:t.xp+"px "+t.yp+"px"}))},16))):(t.changeBgSize&&(t.nzHeight>t.nzWidth?("lens"==t.options.zoomType&&t.zoomLens.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})):("lens"==t.options.zoomType&&t.zoomLens.css({"background-size":t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"}),t.largeHeight/t.newvaluewidth<t.options.zoomWindowHeight?t.zoomWindow.css({"background-size":t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"}):t.zoomWindow.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})),t.changeBgSize=!1),t.zoomWindow.css({backgroundPosition:t.windowLeftPos+"px "+t.windowTopPos+"px"})))},setTintPosition:function(o){this.nzOffset=this.$elem.offset(),this.tintpos=String(-1*(o.pageX-this.nzOffset.left-this.zoomLens.width()/2)),this.tintposy=String(-1*(o.pageY-this.nzOffset.top-this.zoomLens.height()/2)),this.Etoppos&&(this.tintposy=0),this.Eloppos&&(this.tintpos=0),this.Eboppos&&(this.tintposy=-1*(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize)),this.Eroppos&&(this.tintpos=-1*(this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos+"px"}),this.zoomTintImage.css({top:this.tintposy+"px"}))},swaptheimage:function(i,t){var e=this,n=new Image;e.options.loadingIcon&&(e.spinner=o("<div style=\"background: url('"+e.options.loadingIcon+"') no-repeat center;height:"+e.nzHeight+"px;width:"+e.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),e.$elem.after(e.spinner)),e.options.onImageSwap(e.$elem),n.onload=function(){e.largeWidth=n.width,e.largeHeight=n.height,e.zoomImage=t,e.zoomWindow.css({"background-size":e.largeWidth+"px "+e.largeHeight+"px"}),e.zoomWindow.css({"background-size":e.largeWidth+"px "+e.largeHeight+"px"}),e.swapAction(i,t)},n.src=t},swapAction:function(i,t){var e=this,n=new Image;if(n.onload=function(){e.nzHeight=n.height,e.nzWidth=n.width,e.options.onImageSwapComplete(e.$elem),e.doneCallback()},n.src=i,e.currentZoomLevel=e.options.zoomLevel,e.options.maxZoomLevel=!1,"lens"==e.options.zoomType&&e.zoomLens.css({backgroundImage:"url('"+t+"')"}),"window"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+t+"')"}),"inner"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+t+"')"}),e.currentImage=t,e.options.imageCrossfade){var s=e.$elem,h=s.clone();if(e.$elem.attr("src",i),e.$elem.after(h),h.stop(!0).fadeOut(e.options.imageCrossfade,function(){o(this).remove()}),e.$elem.width("auto").removeAttr("width"),e.$elem.height("auto").removeAttr("height"),s.fadeIn(e.options.imageCrossfade),e.options.tint&&"inner"!=e.options.zoomType){var a=e.zoomTintImage,d=a.clone();e.zoomTintImage.attr("src",t),e.zoomTintImage.after(d),d.stop(!0).fadeOut(e.options.imageCrossfade,function(){o(this).remove()}),a.fadeIn(e.options.imageCrossfade),e.zoomTint.css({height:e.$elem.height()}),e.zoomTint.css({width:e.$elem.width()})}e.zoomContainer.css("height",e.$elem.height()),e.zoomContainer.css("width",e.$elem.width()),"inner"==e.options.zoomType&&(e.options.constrainType||(e.zoomWrap.parent().css("height",e.$elem.height()),e.zoomWrap.parent().css("width",e.$elem.width()),e.zoomWindow.css("height",e.$elem.height()),e.zoomWindow.css("width",e.$elem.width()))),e.options.imageCrossfade&&(e.zoomWrap.css("height",e.$elem.height()),e.zoomWrap.css("width",e.$elem.width()))}else e.$elem.attr("src",i),e.options.tint&&(e.zoomTintImage.attr("src",t),e.zoomTintImage.attr("height",e.$elem.height()),e.zoomTintImage.css({height:e.$elem.height()}),e.zoomTint.css({height:e.$elem.height()})),e.zoomContainer.css("height",e.$elem.height()),e.zoomContainer.css("width",e.$elem.width()),e.options.imageCrossfade&&(e.zoomWrap.css("height",e.$elem.height()),e.zoomWrap.css("width",e.$elem.width()));e.options.constrainType&&("height"==e.options.constrainType&&(e.zoomContainer.css("height",e.options.constrainSize),e.zoomContainer.css("width","auto"),e.options.imageCrossfade?(e.zoomWrap.css("height",e.options.constrainSize),e.zoomWrap.css("width","auto"),e.constwidth=e.zoomWrap.width()):(e.$elem.css("height",e.options.constrainSize),e.$elem.css("width","auto"),e.constwidth=e.$elem.width()),"inner"==e.options.zoomType&&(e.zoomWrap.parent().css("height",e.options.constrainSize),e.zoomWrap.parent().css("width",e.constwidth),e.zoomWindow.css("height",e.options.constrainSize),e.zoomWindow.css("width",e.constwidth)),e.options.tint&&(e.tintContainer.css("height",e.options.constrainSize),e.tintContainer.css("width",e.constwidth),e.zoomTint.css("height",e.options.constrainSize),e.zoomTint.css("width",e.constwidth),e.zoomTintImage.css("height",e.options.constrainSize),e.zoomTintImage.css("width",e.constwidth))),"width"==e.options.constrainType&&(e.zoomContainer.css("height","auto"),e.zoomContainer.css("width",e.options.constrainSize),e.options.imageCrossfade?(e.zoomWrap.css("height","auto"),e.zoomWrap.css("width",e.options.constrainSize),e.constheight=e.zoomWrap.height()):(e.$elem.css("height","auto"),e.$elem.css("width",e.options.constrainSize),e.constheight=e.$elem.height()),"inner"==e.options.zoomType&&(e.zoomWrap.parent().css("height",e.constheight),e.zoomWrap.parent().css("width",e.options.constrainSize),e.zoomWindow.css("height",e.constheight),e.zoomWindow.css("width",e.options.constrainSize)),e.options.tint&&(e.tintContainer.css("height",e.constheight),e.tintContainer.css("width",e.options.constrainSize),e.zoomTint.css("height",e.constheight),e.zoomTint.css("width",e.options.constrainSize),e.zoomTintImage.css("height",e.constheight),e.zoomTintImage.css("width",e.options.constrainSize))))},doneCallback:function(){this.options.loadingIcon&&this.spinner.hide(),this.nzOffset=this.$elem.offset(),this.nzWidth=this.$elem.width(),this.nzHeight=this.$elem.height(),this.currentZoomLevel=this.options.zoomLevel,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"window"==this.options.zoomType&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.options.zoomWindowWidth<this.options.zoomWindowWidth?lensWidth=this.nzWidth:lensWidth=this.options.zoomWindowWidth/this.widthRatio,this.zoomLens&&(this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var i=this;return i.gallerylist=[],i.options.gallery?o("#"+i.options.gallery+" a").each(function(){var t="";o(this).data("zoom-image")?t=o(this).data("zoom-image"):o(this).data("image")&&(t=o(this).data("image")),t==i.zoomImage?i.gallerylist.unshift({href:""+t,title:o(this).find("img").attr("title")}):i.gallerylist.push({href:""+t,title:o(this).find("img").attr("title")})}):i.gallerylist.push({href:""+i.zoomImage,title:o(this).find("img").attr("title")}),i.gallerylist},changeZoomLevel:function(o){this.scrollingLock=!0,this.newvalue=parseFloat(o).toFixed(2),newvalue=parseFloat(o).toFixed(2),maxheightnewvalue=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight),maxwidthtnewvalue=this.largeWidth/(this.options.zoomWindowWidth/this.nzWidth*this.nzWidth),"inner"!=this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/maxheightnewvalue/this.nzHeight,this.newvalueheight=maxheightnewvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/maxwidthtnewvalue/this.nzWidth,this.newvaluewidth=maxwidthtnewvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1),"lens"==this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.fullwidth=!0,this.newvaluewidth=maxheightnewvalue):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1))),"inner"==this.options.zoomType&&(maxheightnewvalue=parseFloat(this.largeHeight/this.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,newvalue>maxheightnewvalue?this.newvalueheight=maxheightnewvalue:this.newvalueheight=newvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,newvalue>maxheightnewvalue?this.newvalueheight=maxheightnewvalue:this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,newvalue>maxwidthtnewvalue?this.newvaluewidth=maxwidthtnewvalue:this.newvaluewidth=newvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1)),scrcontinue=!1,"inner"==this.options.zoomType&&(this.nzWidth>=this.nzHeight&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullheight=!0,this.fullwidth=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullheight=!0,this.fullwidth=!0))),"inner"!=this.options.zoomType&&(scrcontinue=!0),scrcontinue&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({height:String(this.options.zoomWindowHeight/this.heightRatio)+"px"})),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType||(this.changeBgSize=!0)),this.options.zoomWindowWidth/this.widthRatio<=this.nzWidth&&("inner"!=this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:String(this.options.zoomWindowWidth/this.widthRatio)+"px"})),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType||(this.changeBgSize=!0)),"inner"==this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight&&(this.currentZoomLevel=this.newvaluewidth),this.nzHeight>this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth))),this.setPosition(this.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(o){"enable"==o&&(this.options.zoomEnabled=!0),"disable"==o&&(this.options.zoomEnabled=!1)}};o.fn.elevateZoom=function(i){return this.each(function(){var t=Object.create(n);t.init(i,this),o.data(this,"elevateZoom",t)})},o.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:o.noop,onZoomedImageLoaded:function(){},onImageSwap:o.noop,onImageSwapComplete:o.noop}}(jQuery,window,document);

/*! selectize.js - v0.10.1 | https://github.com/brianreavis/selectize.js | Apache License (v2) */
!(function (a, b) {
    "function" == typeof define && define.amd ? define("sifter", b) : "object" == typeof exports ? (module.exports = b()) : (a.Sifter = b());
})(this, function () {
    var a = function (a, b) {
        (this.items = a), (this.settings = b || { diacritics: !0 });
    };
    (a.prototype.tokenize = function (a) {
        if (((a = d(String(a || "").toLowerCase())), !a || !a.length)) return [];
        var b,
            c,
            f,
            h,
            i = [],
            j = a.split(/ +/);
        for (b = 0, c = j.length; c > b; b++) {
            if (((f = e(j[b])), this.settings.diacritics)) for (h in g) g.hasOwnProperty(h) && (f = f.replace(new RegExp(h, "g"), g[h]));
            i.push({ string: j[b], regex: new RegExp(f, "i") });
        }
        return i;
    }),
        (a.prototype.iterator = function (a, b) {
            var c;
            (c = f(a)
                ? Array.prototype.forEach ||
                  function (a) {
                      for (var b = 0, c = this.length; c > b; b++) a(this[b], b, this);
                  }
                : function (a) {
                      for (var b in this) this.hasOwnProperty(b) && a(this[b], b, this);
                  }),
                c.apply(a, [b]);
        }),
        (a.prototype.getScoreFunction = function (a, b) {
            var c, d, e, f;
            (c = this), (a = c.prepareSearch(a, b)), (e = a.tokens), (d = a.options.fields), (f = e.length);
            var g = function (a, b) {
                    var c, d;
                    return a ? ((a = String(a || "")), (d = a.search(b.regex)), -1 === d ? 0 : ((c = b.string.length / a.length), 0 === d && (c += 0.5), c)) : 0;
                },
                h = (function () {
                    var a = d.length;
                    return a
                        ? 1 === a
                            ? function (a, b) {
                                  return g(b[d[0]], a);
                              }
                            : function (b, c) {
                                  for (var e = 0, f = 0; a > e; e++) f += g(c[d[e]], b);
                                  return f / a;
                              }
                        : function () {
                              return 0;
                          };
                })();
            return f
                ? 1 === f
                    ? function (a) {
                          return h(e[0], a);
                      }
                    : "and" === a.options.conjunction
                    ? function (a) {
                          for (var b, c = 0, d = 0; f > c; c++) {
                              if (((b = h(e[c], a)), 0 >= b)) return 0;
                              d += b;
                          }
                          return d / f;
                      }
                    : function (a) {
                          for (var b = 0, c = 0; f > b; b++) c += h(e[b], a);
                          return c / f;
                      }
                : function () {
                      return 0;
                  };
        }),
        (a.prototype.getSortFunction = function (a, c) {
            var d, e, f, g, h, i, j, k, l, m, n;
            if (
                ((f = this),
                (a = f.prepareSearch(a, c)),
                (n = (!a.query && c.sort_empty) || c.sort),
                (l = function (a, b) {
                    return "$score" === a ? b.score : f.items[b.id][a];
                }),
                (h = []),
                n)
            )
                for (d = 0, e = n.length; e > d; d++) (a.query || "$score" !== n[d].field) && h.push(n[d]);
            if (a.query) {
                for (m = !0, d = 0, e = h.length; e > d; d++)
                    if ("$score" === h[d].field) {
                        m = !1;
                        break;
                    }
                m && h.unshift({ field: "$score", direction: "desc" });
            } else
                for (d = 0, e = h.length; e > d; d++)
                    if ("$score" === h[d].field) {
                        h.splice(d, 1);
                        break;
                    }
            for (k = [], d = 0, e = h.length; e > d; d++) k.push("desc" === h[d].direction ? -1 : 1);
            return (
                (i = h.length),
                i
                    ? 1 === i
                        ? ((g = h[0].field),
                          (j = k[0]),
                          function (a, c) {
                              return j * b(l(g, a), l(g, c));
                          })
                        : function (a, c) {
                              var d, e, f;
                              for (d = 0; i > d; d++) if (((f = h[d].field), (e = k[d] * b(l(f, a), l(f, c))))) return e;
                              return 0;
                          }
                    : null
            );
        }),
        (a.prototype.prepareSearch = function (a, b) {
            if ("object" == typeof a) return a;
            b = c({}, b);
            var d = b.fields,
                e = b.sort,
                g = b.sort_empty;
            return d && !f(d) && (b.fields = [d]), e && !f(e) && (b.sort = [e]), g && !f(g) && (b.sort_empty = [g]), { options: b, query: String(a || "").toLowerCase(), tokens: this.tokenize(a), total: 0, items: [] };
        }),
        (a.prototype.search = function (a, b) {
            var c,
                d,
                e,
                f,
                g = this;
            return (
                (d = this.prepareSearch(a, b)),
                (b = d.options),
                (a = d.query),
                (f = b.score || g.getScoreFunction(d)),
                a.length
                    ? g.iterator(g.items, function (a, e) {
                          (c = f(a)), (b.filter === !1 || c > 0) && d.items.push({ score: c, id: e });
                      })
                    : g.iterator(g.items, function (a, b) {
                          d.items.push({ score: 1, id: b });
                      }),
                (e = g.getSortFunction(d, b)),
                e && d.items.sort(e),
                (d.total = d.items.length),
                "number" == typeof b.limit && (d.items = d.items.slice(0, b.limit)),
                d
            );
        });
    var b = function (a, b) {
            return "number" == typeof a && "number" == typeof b ? (a > b ? 1 : b > a ? -1 : 0) : ((a = String(a || "").toLowerCase()), (b = String(b || "").toLowerCase()), a > b ? 1 : b > a ? -1 : 0);
        },
        c = function (a) {
            var b, c, d, e;
            for (b = 1, c = arguments.length; c > b; b++) if ((e = arguments[b])) for (d in e) e.hasOwnProperty(d) && (a[d] = e[d]);
            return a;
        },
        d = function (a) {
            return (a + "").replace(/^\s+|\s+$|/g, "");
        },
        e = function (a) {
            return (a + "").replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
        },
        f =
            Array.isArray ||
            ($ && $.isArray) ||
            function (a) {
                return "[object Array]" === Object.prototype.toString.call(a);
            },
        g = { a: "[aÀÁÂÃÄÅàáâãäå]", c: "[cÇçćĆčČ]", d: "[dđĐďĎ]", e: "[eÈÉÊËèéêëěĚ]", i: "[iÌÍÎÏìíîï]", n: "[nÑñňŇ]", o: "[oÒÓÔÕÕÖØòóôõöø]", r: "[rřŘ]", s: "[sŠš]", t: "[tťŤ]", u: "[uÙÚÛÜùúûüůŮ]", y: "[yŸÿýÝ]", z: "[zŽž]" };
    return a;
}),
    (function (a, b) {
        "function" == typeof define && define.amd ? define("microplugin", b) : "object" == typeof exports ? (module.exports = b()) : (a.MicroPlugin = b());
    })(this, function () {
        var a = {};
        a.mixin = function (a) {
            (a.plugins = {}),
                (a.prototype.initializePlugins = function (a) {
                    var c,
                        d,
                        e,
                        f = this,
                        g = [];
                    if (((f.plugins = { names: [], settings: {}, requested: {}, loaded: {} }), b.isArray(a)))
                        for (c = 0, d = a.length; d > c; c++) "string" == typeof a[c] ? g.push(a[c]) : ((f.plugins.settings[a[c].name] = a[c].options), g.push(a[c].name));
                    else if (a) for (e in a) a.hasOwnProperty(e) && ((f.plugins.settings[e] = a[e]), g.push(e));
                    for (; g.length; ) f.require(g.shift());
                }),
                (a.prototype.loadPlugin = function (b) {
                    var c = this,
                        d = c.plugins,
                        e = a.plugins[b];
                    if (!a.plugins.hasOwnProperty(b)) throw new Error('Unable to find "' + b + '" plugin');
                    (d.requested[b] = !0), (d.loaded[b] = e.fn.apply(c, [c.plugins.settings[b] || {}])), d.names.push(b);
                }),
                (a.prototype.require = function (a) {
                    var b = this,
                        c = b.plugins;
                    if (!b.plugins.loaded.hasOwnProperty(a)) {
                        if (c.requested[a]) throw new Error('Plugin has circular dependency ("' + a + '")');
                        b.loadPlugin(a);
                    }
                    return c.loaded[a];
                }),
                (a.define = function (b, c) {
                    a.plugins[b] = { name: b, fn: c };
                });
        };
        var b = {
            isArray:
                Array.isArray ||
                function (a) {
                    return "[object Array]" === Object.prototype.toString.call(a);
                },
        };
        return a;
    }),
    (function (a, b) {
        "function" == typeof define && define.amd
            ? define("selectize", ["jquery", "sifter", "microplugin"], b)
            : "object" == typeof exports
            ? (module.exports = b(require("jquery"), require("sifter"), require("microplugin")))
            : (a.Selectize = b(a.jQuery, a.Sifter, a.MicroPlugin));
    })(this, function (a, b, c) {
        "use strict";
        var d = function (a, b) {
                if ("string" != typeof b || b.length) {
                    var c = "string" == typeof b ? new RegExp(b, "i") : b,
                        d = function (a) {
                            var b = 0;
                            if (3 === a.nodeType) {
                                var e = a.data.search(c);
                                if (e >= 0 && a.data.length > 0) {
                                    var f = a.data.match(c),
                                        g = document.createElement("span");
                                    g.className = "highlight";
                                    var h = a.splitText(e),
                                        i = (h.splitText(f[0].length), h.cloneNode(!0));
                                    g.appendChild(i), h.parentNode.replaceChild(g, h), (b = 1);
                                }
                            } else if (1 === a.nodeType && a.childNodes && !/(script|style)/i.test(a.tagName)) for (var j = 0; j < a.childNodes.length; ++j) j += d(a.childNodes[j]);
                            return b;
                        };
                    return a.each(function () {
                        d(this);
                    });
                }
            },
            e = function () {};
        (e.prototype = {
            on: function (a, b) {
                (this._events = this._events || {}), (this._events[a] = this._events[a] || []), this._events[a].push(b);
            },
            off: function (a, b) {
                var c = arguments.length;
                return 0 === c ? delete this._events : 1 === c ? delete this._events[a] : ((this._events = this._events || {}), void (a in this._events != !1 && this._events[a].splice(this._events[a].indexOf(b), 1)));
            },
            trigger: function (a) {
                if (((this._events = this._events || {}), a in this._events != !1)) for (var b = 0; b < this._events[a].length; b++) this._events[a][b].apply(this, Array.prototype.slice.call(arguments, 1));
            },
        }),
            (e.mixin = function (a) {
                for (var b = ["on", "off", "trigger"], c = 0; c < b.length; c++) a.prototype[b[c]] = e.prototype[b[c]];
            });
        var f = /Mac/.test(navigator.userAgent),
            g = 65,
            h = 13,
            i = 27,
            j = 37,
            k = 38,
            l = 80,
            m = 39,
            n = 40,
            o = 78,
            p = 8,
            q = 46,
            r = 16,
            s = f ? 91 : 17,
            t = f ? 18 : 17,
            u = 9,
            v = 1,
            w = 2,
            x = function (a) {
                return "undefined" != typeof a;
            },
            y = function (a) {
                return "undefined" == typeof a || null === a ? "" : "boolean" == typeof a ? (a ? "1" : "0") : a + "";
            },
            z = function (a) {
                return (a + "").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
            },
            A = function (a) {
                return (a + "").replace(/\$/g, "$$$$");
            },
            B = {};
        (B.before = function (a, b, c) {
            var d = a[b];
            a[b] = function () {
                return c.apply(a, arguments), d.apply(a, arguments);
            };
        }),
            (B.after = function (a, b, c) {
                var d = a[b];
                a[b] = function () {
                    var b = d.apply(a, arguments);
                    return c.apply(a, arguments), b;
                };
            });
        var C = function (b, c) {
                if (!a.isArray(c)) return c;
                var d,
                    e,
                    f = {};
                for (d = 0, e = c.length; e > d; d++) c[d].hasOwnProperty(b) && (f[c[d][b]] = c[d]);
                return f;
            },
            D = function (a) {
                var b = !1;
                return function () {
                    b || ((b = !0), a.apply(this, arguments));
                };
            },
            E = function (a, b) {
                var c;
                return function () {
                    var d = this,
                        e = arguments;
                    window.clearTimeout(c),
                        (c = window.setTimeout(function () {
                            a.apply(d, e);
                        }, b));
                };
            },
            F = function (a, b, c) {
                var d,
                    e = a.trigger,
                    f = {};
                (a.trigger = function () {
                    var c = arguments[0];
                    return -1 === b.indexOf(c) ? e.apply(a, arguments) : void (f[c] = arguments);
                }),
                    c.apply(a, []),
                    (a.trigger = e);
                for (d in f) f.hasOwnProperty(d) && e.apply(a, f[d]);
            },
            G = function (a, b, c, d) {
                a.on(b, c, function (b) {
                    for (var c = b.target; c && c.parentNode !== a[0]; ) c = c.parentNode;
                    return (b.currentTarget = c), d.apply(this, [b]);
                });
            },
            H = function (a) {
                var b = {};
                if ("selectionStart" in a) (b.start = a.selectionStart), (b.length = a.selectionEnd - b.start);
                else if (document.selection) {
                    a.focus();
                    var c = document.selection.createRange(),
                        d = document.selection.createRange().text.length;
                    c.moveStart("character", -a.value.length), (b.start = c.text.length - d), (b.length = d);
                }
                return b;
            },
            I = function (a, b, c) {
                var d,
                    e,
                    f = {};
                if (c) for (d = 0, e = c.length; e > d; d++) f[c[d]] = a.css(c[d]);
                else f = a.css();
                b.css(f);
            },
            J = function (b, c) {
                if (!b) return 0;
                var d = a("<test>").css({ position: "absolute", top: -99999, left: -99999, width: "auto", padding: 0, whiteSpace: "pre" }).text(b).appendTo("body");
                I(c, d, ["letterSpacing", "fontSize", "fontFamily", "fontWeight", "textTransform"]);
                var e = d.width();
                return d.remove(), e;
            },
            K = function (a) {
                var b = null,
                    c = function (c, d) {
                        var e, f, g, h, i, j, k, l;
                        (c = c || window.event || {}),
                            (d = d || {}),
                            c.metaKey ||
                                c.altKey ||
                                ((d.force || a.data("grow") !== !1) &&
                                    ((e = a.val()),
                                    c.type &&
                                        "keydown" === c.type.toLowerCase() &&
                                        ((f = c.keyCode),
                                        (g = (f >= 97 && 122 >= f) || (f >= 65 && 90 >= f) || (f >= 48 && 57 >= f) || 32 === f),
                                        f === q || f === p
                                            ? ((l = H(a[0])),
                                              l.length
                                                  ? (e = e.substring(0, l.start) + e.substring(l.start + l.length))
                                                  : f === p && l.start
                                                  ? (e = e.substring(0, l.start - 1) + e.substring(l.start + 1))
                                                  : f === q && "undefined" != typeof l.start && (e = e.substring(0, l.start) + e.substring(l.start + 1)))
                                            : g && ((j = c.shiftKey), (k = String.fromCharCode(c.keyCode)), (k = j ? k.toUpperCase() : k.toLowerCase()), (e += k))),
                                    (h = a.attr("placeholder")),
                                    !e && h && (e = h),
                                    (i = J(e, a) + 4),
                                    i !== b && ((b = i), a.width(i), a.triggerHandler("resize"))));
                    };
                a.on("keydown keyup update blur", c), c();
            },
            L = function (c, d) {
                var e,
                    f,
                    g = this;
                (f = c[0]),
                    (f.selectize = g),
                    (e = window.getComputedStyle ? window.getComputedStyle(f, null).getPropertyValue("direction") : f.currentStyle && f.currentStyle.direction),
                    (e = e || c.parents("[dir]:first").attr("dir") || ""),
                    a.extend(g, {
                        settings: d,
                        $input: c,
                        tagType: "select" === f.tagName.toLowerCase() ? v : w,
                        rtl: /rtl/i.test(e),
                        eventNS: ".selectize" + ++L.count,
                        highlightedValue: null,
                        isOpen: !1,
                        isDisabled: !1,
                        isRequired: c.is("[required]"),
                        isInvalid: !1,
                        isLocked: !1,
                        isFocused: !1,
                        isInputHidden: !1,
                        isSetup: !1,
                        isShiftDown: !1,
                        isCmdDown: !1,
                        isCtrlDown: !1,
                        ignoreFocus: !1,
                        ignoreBlur: !1,
                        ignoreHover: !1,
                        hasOptions: !1,
                        currentResults: null,
                        lastValue: "",
                        caretPos: 0,
                        loading: 0,
                        loadedSearches: {},
                        $activeOption: null,
                        $activeItems: [],
                        optgroups: {},
                        options: {},
                        userOptions: {},
                        items: [],
                        renderCache: {},
                        onSearchChange: null === d.loadThrottle ? g.onSearchChange : E(g.onSearchChange, d.loadThrottle),
                    }),
                    (g.sifter = new b(this.options, { diacritics: d.diacritics })),
                    a.extend(g.options, C(d.valueField, d.options)),
                    delete g.settings.options,
                    a.extend(g.optgroups, C(d.optgroupValueField, d.optgroups)),
                    delete g.settings.optgroups,
                    (g.settings.mode = g.settings.mode || (1 === g.settings.maxItems ? "single" : "multi")),
                    "boolean" != typeof g.settings.hideSelected && (g.settings.hideSelected = "multi" === g.settings.mode),
                    g.settings.create &&
                        (g.canCreate = function (a) {
                            var b = g.settings.createFilter;
                            return !(!a.length || ("function" == typeof b && !b.apply(g, [a])) || ("string" == typeof b && !new RegExp(b).test(a)) || (b instanceof RegExp && !b.test(a)));
                        }),
                    g.initializePlugins(g.settings.plugins),
                    g.setupCallbacks(),
                    g.setupTemplates(),
                    g.setup();
            };
        return (
            e.mixin(L),
            c.mixin(L),
            a.extend(L.prototype, {
                setup: function () {
                    var b,
                        c,
                        d,
                        e,
                        g,
                        h,
                        i,
                        j,
                        k,
                        l,
                        m = this,
                        n = m.settings,
                        o = m.eventNS,
                        p = a(window),
                        q = a(document),
                        u = m.$input;
                    (i = m.settings.mode),
                        (j = u.attr("tabindex") || ""),
                        (k = u.attr("class") || ""),
                        (b = a("<div>").addClass(n.wrapperClass).addClass(k).addClass(i)),
                        (c = a("<div>").addClass(n.inputClass).addClass("items").appendTo(b)),
                        (d = a('<input type="text" autocomplete="off" />').appendTo(c).attr("tabindex", j)),
                        (h = a(n.dropdownParent || b)),
                        (e = a("<div>").addClass(n.dropdownClass).addClass(k).addClass(i).hide().appendTo(h)),
                        (g = a("<div>").addClass(n.dropdownContentClass).appendTo(e)),
                        b.css({ width: u[0].style.width }),
                        m.plugins.names.length && ((l = "plugin-" + m.plugins.names.join(" plugin-")), b.addClass(l), e.addClass(l)),
                        (null === n.maxItems || n.maxItems > 1) && m.tagType === v && u.attr("multiple", "multiple"),
                        m.settings.placeholder && d.attr("placeholder", n.placeholder),
                        u.attr("autocorrect") && d.attr("autocorrect", u.attr("autocorrect")),
                        u.attr("autocapitalize") && d.attr("autocapitalize", u.attr("autocapitalize")),
                        (m.$wrapper = b),
                        (m.$control = c),
                        (m.$control_input = d),
                        (m.$dropdown = e),
                        (m.$dropdown_content = g),
                        e.on("mouseenter", "[data-selectable]", function () {
                            return m.onOptionHover.apply(m, arguments);
                        }),
                        e.on("mousedown", "[data-selectable]", function () {
                            return m.onOptionSelect.apply(m, arguments);
                        }),
                        G(c, "mousedown", "*:not(input)", function () {
                            return m.onItemSelect.apply(m, arguments);
                        }),
                        K(d),
                        c.on({
                            mousedown: function () {
                                return m.onMouseDown.apply(m, arguments);
                            },
                            click: function () {
                                return m.onClick.apply(m, arguments);
                            },
                        }),
                        d.on({
                            mousedown: function (a) {
                                a.stopPropagation();
                            },
                            keydown: function () {
                                return m.onKeyDown.apply(m, arguments);
                            },
                            keyup: function () {
                                return m.onKeyUp.apply(m, arguments);
                            },
                            keypress: function () {
                                return m.onKeyPress.apply(m, arguments);
                            },
                            resize: function () {
                                m.positionDropdown.apply(m, []);
                            },
                            blur: function () {
                                return m.onBlur.apply(m, arguments);
                            },
                            focus: function () {
                                return (m.ignoreBlur = !1), m.onFocus.apply(m, arguments);
                            },
                            paste: function () {
                                return m.onPaste.apply(m, arguments);
                            },
                        }),
                        q.on("keydown" + o, function (a) {
                            (m.isCmdDown = a[f ? "metaKey" : "ctrlKey"]), (m.isCtrlDown = a[f ? "altKey" : "ctrlKey"]), (m.isShiftDown = a.shiftKey);
                        }),
                        q.on("keyup" + o, function (a) {
                            a.keyCode === t && (m.isCtrlDown = !1), a.keyCode === r && (m.isShiftDown = !1), a.keyCode === s && (m.isCmdDown = !1);
                        }),
                        q.on("mousedown" + o, function (a) {
                            if (m.isFocused) {
                                if (a.target === m.$dropdown[0] || a.target.parentNode === m.$dropdown[0]) return !1;
                                m.$control.has(a.target).length || a.target === m.$control[0] || m.blur();
                            }
                        }),
                        p.on(["scroll" + o, "resize" + o].join(" "), function () {
                            m.isOpen && m.positionDropdown.apply(m, arguments);
                        }),
                        p.on("mousemove" + o, function () {
                            m.ignoreHover = !1;
                        }),
                        (this.revertSettings = { $children: u.children().detach(), tabindex: u.attr("tabindex") }),
                        u.attr("tabindex", -1).hide().after(m.$wrapper),
                        a.isArray(n.items) && (m.setValue(n.items), delete n.items),
                        u[0].validity &&
                            u.on("invalid" + o, function (a) {
                                a.preventDefault(), (m.isInvalid = !0), m.refreshState();
                            }),
                        m.updateOriginalInput(),
                        m.refreshItems(),
                        m.refreshState(),
                        m.updatePlaceholder(),
                        (m.isSetup = !0),
                        u.is(":disabled") && m.disable(),
                        m.on("change", this.onChange),
                        u.data("selectize", m),
                        u.addClass("selectized"),
                        m.trigger("initialize"),
                        n.preload === !0 && m.onSearchChange("");
                },
                setupTemplates: function () {
                    var b = this,
                        c = b.settings.labelField,
                        d = b.settings.optgroupLabelField,
                        e = {
                            optgroup: function (a) {
                                return '<div class="optgroup">' + a.html + "</div>";
                            },
                            optgroup_header: function (a, b) {
                                return '<div class="optgroup-header">' + b(a[d]) + "</div>";
                            },
                            option: function (a, b) {
                              setTimeout(function(){
                                $('.single-option-selector option').prop('selected', 'false');
                                $('.single-option-selector option').val('');
                              $('.selectize-dropdown .option').removeClass('selected');
                                }, 300);
                              return '<div class="option"><span class="color-span ' + b(a[c]).toLowerCase().replace(/ /g, "-") + '"></span><span class="variant-title-wc">' + b(a[c]) + "</span></div>";
                            },
                            item: function (a, b) {
                                return '<div class="item"><span class="color-span ' + b(a[c]).toLowerCase().replace(/ /g, "-") + '"></span><span class="variant-title-wc">Select Your Size'/* + b(a[c]) + */+"</span></div>";
                            },
                            option_create: function (a, b) {
                                return '<div class="create">Add <strong>' + b(a.input) + "</strong>&hellip;</div>";
                            },
                        };
                    b.settings.render = a.extend({}, e, b.settings.render);
                },
                setupCallbacks: function () {
                    var a,
                        b,
                        c = {
                            initialize: "onInitialize",
                            change: "onChange",
                            item_add: "onItemAdd",
                            item_remove: "onItemRemove",
                            clear: "onClear",
                            option_add: "onOptionAdd",
                            option_remove: "onOptionRemove",
                            option_clear: "onOptionClear",
                            dropdown_open: "onDropdownOpen",
                            dropdown_close: "onDropdownClose",
                            type: "onType",
                        };
                    for (a in c) c.hasOwnProperty(a) && ((b = this.settings[c[a]]), b && this.on(a, b));
                },
                onClick: function (a) {
                    var b = this;
                    b.isFocused || (b.focus(), a.preventDefault());
                },
                onMouseDown: function (b) {
                    {
                        var c = this,
                            d = b.isDefaultPrevented();
                        a(b.target);
                    }
                    if (c.isFocused) {
                        if (b.target !== c.$control_input[0]) return "single" === c.settings.mode ? (c.isOpen ? c.close() : c.open()) : d || c.setActiveItem(null), !1;
                    } else
                        d ||
                            window.setTimeout(function () {
                                c.focus();
                            }, 0);
                },
                onChange: function () {
                  this.$input.trigger("change");
                  var opt_text = jQuery('.selectize-dropdown .option.selected .variant-title-wc').text();
                  jQuery('.selectize-input .variant-title-wc').text(opt_text);
                  var cart_btn_val = $('.mobile-prod-grid-part #product-variants #product-add-to-cart').val();
                  if(cart_btn_val == 'Sold Out'){
                    $('.mobile-prod-grid-part #product-variants #product-add-to-cart').val('Sold Out');     
                  }else{
                    $('.mobile-prod-grid-part #product-variants #product-add-to-cart').val('Add');     
                  }
                },
                onPaste: function (a) {
                    var b = this;
                    (b.isFull() || b.isInputHidden || b.isLocked) && a.preventDefault();
                },
                onKeyPress: function (a) {
                    if (this.isLocked) return a && a.preventDefault();
                    var b = String.fromCharCode(a.keyCode || a.which);
                    return this.settings.create && b === this.settings.delimiter ? (this.createItem(), a.preventDefault(), !1) : void 0;
                },
                onKeyDown: function (a) {
                    var b = (a.target === this.$control_input[0], this);
                    if (b.isLocked) return void (a.keyCode !== u && a.preventDefault());
                    switch (a.keyCode) {
                        case g:
                            if (b.isCmdDown) return void b.selectAll();
                            break;
                        case i:
                            return void b.close();
                        case o:
                            if (!a.ctrlKey || a.altKey) break;
                        case n:
                            if (!b.isOpen && b.hasOptions) b.open();
                            else if (b.$activeOption) {
                                b.ignoreHover = !0;
                                var c = b.getAdjacentOption(b.$activeOption, 1);
                                c.length && b.setActiveOption(c, !0, !0);
                            }
                            return void a.preventDefault();
                        case l:
                            if (!a.ctrlKey || a.altKey) break;
                        case k:
                            if (b.$activeOption) {
                                b.ignoreHover = !0;
                                var d = b.getAdjacentOption(b.$activeOption, -1);
                                d.length && b.setActiveOption(d, !0, !0);
                            }
                            return void a.preventDefault();
                        case h:
                            return b.isOpen && b.$activeOption && b.onOptionSelect({ currentTarget: b.$activeOption }), void a.preventDefault();
                        case j:
                            return void b.advanceSelection(-1, a);
                        case m:
                            return void b.advanceSelection(1, a);
                        case u:
                            return b.settings.selectOnTab && b.isOpen && b.$activeOption && (b.onOptionSelect({ currentTarget: b.$activeOption }), a.preventDefault()), void (b.settings.create && b.createItem() && a.preventDefault());
                        case p:
                        case q:
                            return void b.deleteSelection(a);
                    }
                    return (!b.isFull() && !b.isInputHidden) || (f ? a.metaKey : a.ctrlKey) ? void 0 : void a.preventDefault();
                },
                onKeyUp: function (a) {
                    var b = this;
                    if (b.isLocked) return a && a.preventDefault();
                    var c = b.$control_input.val() || "";
                    b.lastValue !== c && ((b.lastValue = c), b.onSearchChange(c), b.refreshOptions(), b.trigger("type", c));
                },
                onSearchChange: function (a) {
                    var b = this,
                        c = b.settings.load;
                    c &&
                        (b.loadedSearches.hasOwnProperty(a) ||
                            ((b.loadedSearches[a] = !0),
                            b.load(function (d) {
                                c.apply(b, [a, d]);
                            })));
                },
                onFocus: function (a) {
                    var b = this;
                    return (
                        (b.isFocused = !0),
                        b.isDisabled
                            ? (b.blur(), a && a.preventDefault(), !1)
                            : void (b.ignoreFocus || ("focus" === b.settings.preload && b.onSearchChange(""), b.$activeItems.length || (b.showInput(), b.setActiveItem(null), b.refreshOptions(!!b.settings.openOnFocus)), b.refreshState()))
                    );
                },
                onBlur: function (a) {
                    var b = this;
                    if (((b.isFocused = !1), !b.ignoreFocus)) {
                        if (!b.ignoreBlur && document.activeElement === b.$dropdown_content[0]) return (b.ignoreBlur = !0), void b.onFocus(a);
                        b.settings.create && b.settings.createOnBlur && b.createItem(!1), b.close(), b.setTextboxValue(""), b.setActiveItem(null), b.setActiveOption(null), b.setCaret(b.items.length), b.refreshState();
                    }
                },
                onOptionHover: function (a) {
                    this.ignoreHover || this.setActiveOption(a.currentTarget, !1);
                },
                onOptionSelect: function (b) {
                  setTimeout(function(){
                  var cart_val = $('#product-add-to-cart').val();
                    if(cart_val == 'Sold Out' || cart_val == 'Unavailable'){
                    $('.notify-me-wc-available').addClass('hide');
                  $('.notify-me-wc-unavailable').removeClass('hide');
                    }else{
                      $('.notify-me-wc-available').removeClass('hide');
                  $('.notify-me-wc-unavailable').addClass('hide');
                    }
                  }, 300);                  
                  
                    var c,
                        d,
                        e = this;
                    b.preventDefault && (b.preventDefault(), b.stopPropagation()),
                        (d = a(b.currentTarget)),
                        d.hasClass("create")
                            ? e.createItem()
                            : ((c = d.attr("data-value")), c && ((e.lastQuery = null), e.setTextboxValue(""), e.addItem(c), !e.settings.hideSelected && b.type && /mouse/.test(b.type) && e.setActiveOption(e.getOption(c))));
                },
                onItemSelect: function (a) {
                    var b = this;
                    b.isLocked || ("multi" === b.settings.mode && (a.preventDefault(), b.setActiveItem(a.currentTarget, a)));
                },
                load: function (a) {
                    var b = this,
                        c = b.$wrapper.addClass("loading");
                    b.loading++,
                        a.apply(b, [
                            function (a) {
                                (b.loading = Math.max(b.loading - 1, 0)), a && a.length && (b.addOption(a), b.refreshOptions(b.isFocused && !b.isInputHidden)), b.loading || c.removeClass("loading"), b.trigger("load", a);
                            },
                        ]);
                },
                setTextboxValue: function (a) {
                    var b = this.$control_input,
                        c = b.val() !== a;
                    c && (b.val(a).triggerHandler("update"), (this.lastValue = a));
                },
                getValue: function () {
                    return this.tagType === v && this.$input.attr("multiple") ? this.items : this.items.join(this.settings.delimiter);
                },
                setValue: function (a) {
                    F(this, ["change"], function () {
                        this.clear(), this.addItems(a);
                    });
                },
                setActiveItem: function (b, c) {
                    var d,
                        e,
                        f,
                        g,
                        h,
                        i,
                        j,
                        k,
                        l = this;
                    if ("single" !== l.settings.mode) {
                        if (((b = a(b)), !b.length)) return a(l.$activeItems).removeClass("active"), (l.$activeItems = []), void (l.isFocused && l.showInput());
                        if (((d = c && c.type.toLowerCase()), "mousedown" === d && l.isShiftDown && l.$activeItems.length)) {
                            for (
                                k = l.$control.children(".active:last"),
                                    g = Array.prototype.indexOf.apply(l.$control[0].childNodes, [k[0]]),
                                    h = Array.prototype.indexOf.apply(l.$control[0].childNodes, [b[0]]),
                                    g > h && ((j = g), (g = h), (h = j)),
                                    e = g;
                                h >= e;
                                e++
                            )
                                (i = l.$control[0].childNodes[e]), -1 === l.$activeItems.indexOf(i) && (a(i).addClass("active"), l.$activeItems.push(i));
                            c.preventDefault();
                        } else
                            ("mousedown" === d && l.isCtrlDown) || ("keydown" === d && this.isShiftDown)
                                ? b.hasClass("active")
                                    ? ((f = l.$activeItems.indexOf(b[0])), l.$activeItems.splice(f, 1), b.removeClass("active"))
                                    : l.$activeItems.push(b.addClass("active")[0])
                                : (a(l.$activeItems).removeClass("active"), (l.$activeItems = [b.addClass("active")[0]]));
                        l.hideInput(), this.isFocused || l.focus();
                    }
                },
                setActiveOption: function (b, c, d) {
                    var e,
                        f,
                        g,
                        h,
                        i,
                        j = this;
                    j.$activeOption && j.$activeOption.removeClass("active"),
                        (j.$activeOption = null),
                        (b = a(b)),
                        b.length &&
                            ((j.$activeOption = b.addClass("active")),
                            (c || !x(c)) &&
                                ((e = j.$dropdown_content.height()),
                                (f = j.$activeOption.outerHeight(!0)),
                                (c = j.$dropdown_content.scrollTop() || 0),
                                (g = j.$activeOption.offset().top - j.$dropdown_content.offset().top + c),
                                (h = g),
                                (i = g - e + f),
                                g + f > e + c ? j.$dropdown_content.stop().animate({ scrollTop: i }, d ? j.settings.scrollDuration : 0) : c > g && j.$dropdown_content.stop().animate({ scrollTop: h }, d ? j.settings.scrollDuration : 0)));
                },
                selectAll: function () {
                    var a = this;
                    "single" !== a.settings.mode && ((a.$activeItems = Array.prototype.slice.apply(a.$control.children(":not(input)").addClass("active"))), a.$activeItems.length && (a.hideInput(), a.close()), a.focus());
                },
                hideInput: function () {
                    var a = this;
                    a.setTextboxValue(""), a.$control_input.css({ opacity: 0, position: "absolute", left: a.rtl ? 1e4 : -1e4 }), (a.isInputHidden = !0);
                },
                showInput: function () {
                    this.$control_input.css({ opacity: 1, position: "relative", left: 0 }), (this.isInputHidden = !1);
                },
                focus: function () {
                    var a = this;
                    a.isDisabled ||
                        ((a.ignoreFocus = !0),
                        a.$control_input[0].focus(),
                        window.setTimeout(function () {
                            (a.ignoreFocus = !1), a.onFocus();
                        }, 0));
                },
                blur: function () {
                    this.$control_input.trigger("blur");
                },
                getScoreFunction: function (a) {
                    return this.sifter.getScoreFunction(a, this.getSearchOptions());
                },
                getSearchOptions: function () {
                    var a = this.settings,
                        b = a.sortField;
                    return "string" == typeof b && (b = { field: b }), { fields: a.searchField, conjunction: a.searchConjunction, sort: b };
                },
                search: function (b) {
                    var c,
                        d,
                        e,
                        f = this,
                        g = f.settings,
                        h = this.getSearchOptions();
                    if (g.score && ((e = f.settings.score.apply(this, [b])), "function" != typeof e)) throw new Error('Selectize "score" setting must be a function that returns a function');
                    if ((b !== f.lastQuery ? ((f.lastQuery = b), (d = f.sifter.search(b, a.extend(h, { score: e }))), (f.currentResults = d)) : (d = a.extend(!0, {}, f.currentResults)), g.hideSelected))
                        for (c = d.items.length - 1; c >= 0; c--) -1 !== f.items.indexOf(y(d.items[c].id)) && d.items.splice(c, 1);
                    return d;
                },
                refreshOptions: function (b) {
                    var c, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s;
                    "undefined" == typeof b && (b = !0);
                    var t = this,
                        u = t.$control_input.val(),
                        v = t.search(u),
                        w = t.$dropdown_content,
                        x = t.$activeOption && y(t.$activeOption.attr("data-value"));
                    if (((g = v.items.length), "number" == typeof t.settings.maxOptions && (g = Math.min(g, t.settings.maxOptions)), (h = {}), t.settings.optgroupOrder))
                        for (i = t.settings.optgroupOrder, c = 0; c < i.length; c++) h[i[c]] = [];
                    else i = [];
                    for (c = 0; g > c; c++)
                        for (j = t.options[v.items[c].id], k = t.render("option", j), l = j[t.settings.optgroupField] || "", m = a.isArray(l) ? l : [l], e = 0, f = m && m.length; f > e; e++)
                            (l = m[e]), t.optgroups.hasOwnProperty(l) || (l = ""), h.hasOwnProperty(l) || ((h[l] = []), i.push(l)), h[l].push(k);
                    for (n = [], c = 0, g = i.length; g > c; c++)
                        (l = i[c]),
                            t.optgroups.hasOwnProperty(l) && h[l].length
                                ? ((o = t.render("optgroup_header", t.optgroups[l]) || ""), (o += h[l].join("")), n.push(t.render("optgroup", a.extend({}, t.optgroups[l], { html: o }))))
                                : n.push(h[l].join(""));
                    if ((w.html(n.join("")), t.settings.highlight && v.query.length && v.tokens.length)) for (c = 0, g = v.tokens.length; g > c; c++) d(w, v.tokens[c].regex);
                    if (!t.settings.hideSelected) for (c = 0, g = t.items.length; g > c; c++) t.getOption(t.items[c]).addClass("selected");
                    (p = t.settings.create && t.canCreate(v.query)),
                        p && (w.prepend(t.render("option_create", { input: u })), (s = a(w[0].childNodes[0]))),
                        (t.hasOptions = v.items.length > 0 || p),
                        t.hasOptions
                            ? (v.items.length > 0
                                  ? ((r = x && t.getOption(x)),
                                    r && r.length ? (q = r) : "single" === t.settings.mode && t.items.length && (q = t.getOption(t.items[0])),
                                    (q && q.length) || (q = s && !t.settings.addPrecedence ? t.getAdjacentOption(s, 1) : w.find("[data-selectable]:first")))
                                  : (q = s),
                              t.setActiveOption(q),
                              b && !t.isOpen && t.open())
                            : (t.setActiveOption(null), b && t.isOpen && t.close());
                },
                addOption: function (b) {
                    var c,
                        d,
                        e,
                        f = this;
                    if (a.isArray(b)) for (c = 0, d = b.length; d > c; c++) f.addOption(b[c]);
                    else (e = y(b[f.settings.valueField])), e && !f.options.hasOwnProperty(e) && ((f.userOptions[e] = !0), (f.options[e] = b), (f.lastQuery = null), f.trigger("option_add", e, b));
                },
                addOptionGroup: function (a, b) {
                    (this.optgroups[a] = b), this.trigger("optgroup_add", a, b);
                },
                updateOption: function (b, c) {
                    var d,
                        e,
                        f,
                        g,
                        h,
                        i,
                        j = this;
                    if (((b = y(b)), (f = y(c[j.settings.valueField])), j.options.hasOwnProperty(b))) {
                        if (!f) throw new Error("Value must be set in option data");
                        f !== b && (delete j.options[b], (g = j.items.indexOf(b)), -1 !== g && j.items.splice(g, 1, f)),
                            (j.options[f] = c),
                            (h = j.renderCache.item),
                            (i = j.renderCache.option),
                            h && (delete h[b], delete h[f]),
                            i && (delete i[b], delete i[f]),
                            -1 !== j.items.indexOf(f) && ((d = j.getItem(b)), (e = a(j.render("item", c))), d.hasClass("active") && e.addClass("active"), d.replaceWith(e)),
                            j.isOpen && j.refreshOptions(!1);
                    }
                },
                removeOption: function (a) {
                    var b = this;
                    a = y(a);
                    var c = b.renderCache.item,
                        d = b.renderCache.option;
                    c && delete c[a], d && delete d[a], delete b.userOptions[a], delete b.options[a], (b.lastQuery = null), b.trigger("option_remove", a), b.removeItem(a);
                },
                clearOptions: function () {
                    var a = this;
                    (a.loadedSearches = {}), (a.userOptions = {}), (a.renderCache = {}), (a.options = a.sifter.items = {}), (a.lastQuery = null), a.trigger("option_clear"), a.clear();
                },
                getOption: function (a) {
                    return this.getElementWithValue(a, this.$dropdown_content.find("[data-selectable]"));
                },
                getAdjacentOption: function (b, c) {
                    var d = this.$dropdown.find("[data-selectable]"),
                        e = d.index(b) + c;
                    return e >= 0 && e < d.length ? d.eq(e) : a();
                },
                getElementWithValue: function (b, c) {
                    if ((b = y(b))) for (var d = 0, e = c.length; e > d; d++) if (c[d].getAttribute("data-value") === b) return a(c[d]);
                    return a();
                },
                getItem: function (a) {
                    return this.getElementWithValue(a, this.$control.children());
                },
                addItems: function (b) {
                    for (var c = a.isArray(b) ? b : [b], d = 0, e = c.length; e > d; d++) (this.isPending = e - 1 > d), this.addItem(c[d]);
                },
                addItem: function (b) {
                    F(this, ["change"], function () {
                        var c,
                            d,
                            e,
                            f,
                            g,
                            h = this,
                            i = h.settings.mode;
                        return (
                            (b = y(b)),
                            -1 !== h.items.indexOf(b)
                                ? void ("single" === i && h.close())
                                : void (
                                      h.options.hasOwnProperty(b) &&
                                      ("single" === i && h.clear(),
                                      ("multi" === i && h.isFull()) ||
                                          ((c = a(h.render("item", h.options[b]))),
                                          (g = h.isFull()),
                                          h.items.splice(h.caretPos, 0, b),
                                          h.insertAtCaret(c),
                                          (!h.isPending || (!g && h.isFull())) && h.refreshState(),
                                          h.isSetup &&
                                              ((e = h.$dropdown_content.find("[data-selectable]")),
                                              h.isPending || ((d = h.getOption(b)), (f = h.getAdjacentOption(d, 1).attr("data-value")), h.refreshOptions(h.isFocused && "single" !== i), f && h.setActiveOption(h.getOption(f))),
                                              !e.length || h.isFull() ? h.close() : h.positionDropdown(),
                                              h.updatePlaceholder(),
                                              h.trigger("item_add", b, c),
                                              h.updateOriginalInput())))
                                  )
                        );
                    });
                },
                removeItem: function (a) {
                    var b,
                        c,
                        d,
                        e = this;
                    (b = "object" == typeof a ? a : e.getItem(a)),
                        (a = y(b.attr("data-value"))),
                        (c = e.items.indexOf(a)),
                        -1 !== c &&
                            (b.remove(),
                            b.hasClass("active") && ((d = e.$activeItems.indexOf(b[0])), e.$activeItems.splice(d, 1)),
                            e.items.splice(c, 1),
                            (e.lastQuery = null),
                            !e.settings.persist && e.userOptions.hasOwnProperty(a) && e.removeOption(a),
                            c < e.caretPos && e.setCaret(e.caretPos - 1),
                            e.refreshState(),
                            e.updatePlaceholder(),
                            e.updateOriginalInput(),
                            e.positionDropdown(),
                            e.trigger("item_remove", a));
                },
                createItem: function (b) {
                    var c = this,
                        d = a.trim(c.$control_input.val() || ""),
                        e = c.caretPos;
                    if (!c.canCreate(d)) return !1;
                    c.lock(), "undefined" == typeof b && (b = !0);
                    var f =
                            "function" == typeof c.settings.create
                                ? this.settings.create
                                : function (a) {
                                      var b = {};
                                      return (b[c.settings.labelField] = a), (b[c.settings.valueField] = a), b;
                                  },
                        g = D(function (a) {
                            if ((c.unlock(), a && "object" == typeof a)) {
                                var d = y(a[c.settings.valueField]);
                                d && (c.setTextboxValue(""), c.addOption(a), c.setCaret(e), c.addItem(d), c.refreshOptions(b && "single" !== c.settings.mode));
                            }
                        }),
                        h = f.apply(this, [d, g]);
                    return "undefined" != typeof h && g(h), !0;
                },
                refreshItems: function () {
                    if (((this.lastQuery = null), this.isSetup)) for (var a = 0; a < this.items.length; a++) this.addItem(this.items);
                    this.refreshState(), this.updateOriginalInput();
                },
                refreshState: function () {
                    var a,
                        b = this;
                    b.isRequired && (b.items.length && (b.isInvalid = !1), b.$control_input.prop("required", a)), b.refreshClasses();
                },
                refreshClasses: function () {
                    var b = this,
                        c = b.isFull(),
                        d = b.isLocked;
                    b.$wrapper.toggleClass("rtl", b.rtl),
                        b.$control
                            .toggleClass("focus", b.isFocused)
                            .toggleClass("disabled", b.isDisabled)
                            .toggleClass("required", b.isRequired)
                            .toggleClass("invalid", b.isInvalid)
                            .toggleClass("locked", d)
                            .toggleClass("full", c)
                            .toggleClass("not-full", !c)
                            .toggleClass("input-active", b.isFocused && !b.isInputHidden)
                            .toggleClass("dropdown-active", b.isOpen)
                            .toggleClass("has-options", !a.isEmptyObject(b.options))
                            .toggleClass("has-items", b.items.length > 0),
                        b.$control_input.data("grow", !c && !d);
                },
                isFull: function () {
                    return null !== this.settings.maxItems && this.items.length >= this.settings.maxItems;
                },
                updateOriginalInput: function () {
                    var a,
                        b,
                        c,
                        d = this;
                    if (d.tagType === v) {
                        for (c = [], a = 0, b = d.items.length; b > a; a++) c.push('<option value="' + z(d.items[a]) + '" selected="selected"></option>');
                        c.length || this.$input.attr("multiple") || c.push('<option value="" selected="selected"></option>'), d.$input.html(c.join(""));
                    } else d.$input.val(d.getValue()), d.$input.attr("value", d.$input.val());
                    d.isSetup && d.trigger("change", d.$input.val());
                },
                updatePlaceholder: function () {
                    if (this.settings.placeholder) {
                        var a = this.$control_input;
                        this.items.length ? a.removeAttr("placeholder") : a.attr("placeholder", this.settings.placeholder), a.triggerHandler("update", { force: !0 });
                    }
                },
                open: function () {
                    var a = this;
                    a.isLocked ||
                        a.isOpen ||
                        ("multi" === a.settings.mode && a.isFull()) ||
                        (a.focus(), (a.isOpen = !0), a.refreshState(), a.$dropdown.css({ visibility: "hidden", display: "block" }), a.positionDropdown(), a.$dropdown.css({ visibility: "visible" }), a.trigger("dropdown_open", a.$dropdown));
                },
                close: function () {
                    var a = this,
                        b = a.isOpen;
                    "single" === a.settings.mode && a.items.length && a.hideInput(), (a.isOpen = !1), a.$dropdown.hide(), a.setActiveOption(null), a.refreshState(), b && a.trigger("dropdown_close", a.$dropdown);
                },
                positionDropdown: function () {
                    var a = this.$control,
                        b = "body" === this.settings.dropdownParent ? a.offset() : a.position();
                    (b.top += a.outerHeight(!0)), this.$dropdown.css({});
                },
                clear: function () {
                    var a = this;
                    a.items.length &&
                        (a.$control.children(":not(input)").remove(),
                        (a.items = []),
                        (a.lastQuery = null),
                        a.setCaret(0),
                        a.setActiveItem(null),
                        a.updatePlaceholder(),
                        a.updateOriginalInput(),
                        a.refreshState(),
                        a.showInput(),
                        a.trigger("clear"));
                },
                insertAtCaret: function (b) {
                    var c = Math.min(this.caretPos, this.items.length);
                    0 === c ? this.$control.prepend(b) : a(this.$control[0].childNodes[c]).before(b), this.setCaret(c + 1);
                },
                deleteSelection: function (b) {
                    var c,
                        d,
                        e,
                        f,
                        g,
                        h,
                        i,
                        j,
                        k,
                        l = this;
                    if (
                        ((e = b && b.keyCode === p ? -1 : 1), (f = H(l.$control_input[0])), l.$activeOption && !l.settings.hideSelected && (i = l.getAdjacentOption(l.$activeOption, -1).attr("data-value")), (g = []), l.$activeItems.length)
                    ) {
                        for (k = l.$control.children(".active:" + (e > 0 ? "last" : "first")), h = l.$control.children(":not(input)").index(k), e > 0 && h++, c = 0, d = l.$activeItems.length; d > c; c++)
                            g.push(a(l.$activeItems[c]).attr("data-value"));
                        b && (b.preventDefault(), b.stopPropagation());
                    } else
                        (l.isFocused || "single" === l.settings.mode) &&
                            l.items.length &&
                            (0 > e && 0 === f.start && 0 === f.length ? g.push(l.items[l.caretPos - 1]) : e > 0 && f.start === l.$control_input.val().length && g.push(l.items[l.caretPos]));
                    if (!g.length || ("function" == typeof l.settings.onDelete && l.settings.onDelete.apply(l, [g]) === !1)) return !1;
                    for ("undefined" != typeof h && l.setCaret(h); g.length; ) l.removeItem(g.pop());
                    return l.showInput(), l.positionDropdown(), l.refreshOptions(!0), i && ((j = l.getOption(i)), j.length && l.setActiveOption(j)), !0;
                },
                advanceSelection: function (a, b) {
                    var c,
                        d,
                        e,
                        f,
                        g,
                        h,
                        i = this;
                    0 !== a &&
                        (i.rtl && (a *= -1),
                        (c = a > 0 ? "last" : "first"),
                        (d = H(i.$control_input[0])),
                        i.isFocused && !i.isInputHidden
                            ? ((f = i.$control_input.val().length), (g = 0 > a ? 0 === d.start && 0 === d.length : d.start === f), g && !f && i.advanceCaret(a, b))
                            : ((h = i.$control.children(".active:" + c)), h.length && ((e = i.$control.children(":not(input)").index(h)), i.setActiveItem(null), i.setCaret(a > 0 ? e + 1 : e))));
                },
                advanceCaret: function (a, b) {
                    var c,
                        d,
                        e = this;
                    0 !== a && ((c = a > 0 ? "next" : "prev"), e.isShiftDown ? ((d = e.$control_input[c]()), d.length && (e.hideInput(), e.setActiveItem(d), b && b.preventDefault())) : e.setCaret(e.caretPos + a));
                },
                setCaret: function (b) {
                    var c = this;
                    if (((b = "single" === c.settings.mode ? c.items.length : Math.max(0, Math.min(c.items.length, b))), !c.isPending)) {
                        var d, e, f, g;
                        for (f = c.$control.children(":not(input)"), d = 0, e = f.length; e > d; d++) (g = a(f[d]).detach()), b > d ? c.$control_input.before(g) : c.$control.append(g);
                    }
                    c.caretPos = b;
                },
                lock: function () {
                    this.close(), (this.isLocked = !0), this.refreshState();
                },
                unlock: function () {
                    (this.isLocked = !1), this.refreshState();
                },
                disable: function () {
                    var a = this;
                    a.$input.prop("disabled", !0), (a.isDisabled = !0), a.lock();
                },
                enable: function () {
                    var a = this;
                    a.$input.prop("disabled", !1), (a.isDisabled = !1), a.unlock();
                },
                destroy: function () {
                    var b = this,
                        c = b.eventNS,
                        d = b.revertSettings;
                    b.trigger("destroy"),
                        b.off(),
                        b.$wrapper.remove(),
                        b.$dropdown.remove(),
                        b.$input.html("").append(d.$children).removeAttr("tabindex").removeClass("selectized").attr({ tabindex: d.tabindex }).show(),
                        b.$control_input.removeData("grow"),
                        b.$input.removeData("selectize"),
                        a(window).off(c),
                        a(document).off(c),
                        a(document.body).off(c),
                        delete b.$input[0].selectize;
                },
                render: function (a, b) {
                    var c,
                        d,
                        e = "",
                        f = !1,
                        g = this,
                        h = /^[\t ]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;
                    return (
                        ("option" === a || "item" === a) && ((c = y(b[g.settings.valueField])), (f = !!c)),
                        f && (x(g.renderCache[a]) || (g.renderCache[a] = {}), g.renderCache[a].hasOwnProperty(c))
                            ? g.renderCache[a][c]
                            : ((e = g.settings.render[a].apply(this, [b, z])),
                              ("option" === a || "option_create" === a) && (e = e.replace(h, "<$1 data-selectable")),
                              "optgroup" === a && ((d = b[g.settings.optgroupValueField] || ""), (e = e.replace(h, '<$1 data-group="' + A(z(d)) + '"'))),
                              ("option" === a || "item" === a) && (e = e.replace(h, '<$1 data-value="' + A(z(c || "")) + '"')),
                              f && (g.renderCache[a][c] = e),
                              e)
                    );
                },
                clearCache: function (a) {
                    var b = this;
                    "undefined" == typeof a ? (b.renderCache = {}) : delete b.renderCache[a];
                },
            }),
            (L.count = 0),
            (L.defaults = {
                plugins: [],
                delimiter: ",",
                persist: !0,
                diacritics: !0,
                create: !1,
                createOnBlur: !1,
                createFilter: null,
                highlight: !0,
                openOnFocus: !0,
                maxOptions: 1e3,
                maxItems: null,
                hideSelected: null,
                addPrecedence: !1,
                selectOnTab: !1,
                preload: !1,
                scrollDuration: 60,
                loadThrottle: 300,
                dataAttr: "data-data",
                optgroupField: "optgroup",
                valueField: "value",
                labelField: "text",
                optgroupLabelField: "label",
                optgroupValueField: "value",
                optgroupOrder: null,
                sortField: "$order",
                searchField: ["text"],
                searchConjunction: "and",
                mode: null,
                wrapperClass: "selectize-control",
                inputClass: "selectize-input",
                dropdownClass: "selectize-dropdown",
                dropdownContentClass: "selectize-dropdown-content",
                dropdownParent: null,
                render: {},
            }),
            (a.fn.selectize = function (b) {
                var c = a.fn.selectize.defaults,
                    d = a.extend({}, c, b),
                    e = d.dataAttr,
                    f = d.labelField,
                    g = d.valueField,
                    h = d.optgroupField,
                    i = d.optgroupLabelField,
                    j = d.optgroupValueField,
                    k = function (b, c) {
                        var e,
                            h,
                            i,
                            j,
                            k = a.trim(b.val() || "");
                        if (k.length) {
                            for (i = k.split(d.delimiter), e = 0, h = i.length; h > e; e++) (j = {}), (j[f] = i[e]), (j[g] = i[e]), (c.options[i[e]] = j);
                            c.items = i;
                        }
                    },
                    l = function (b, c) {
                        var d,
                            k,
                            l,
                            m,
                            n = 0,
                            o = c.options,
                            p = function (a) {
                                var b = e && a.attr(e);
                                return "string" == typeof b && b.length ? JSON.parse(b) : null;
                            },
                            q = function (b, d) {
                                var e, i;
                                if (((b = a(b)), (e = b.attr("value") || ""), e.length)) {
                                    if (o.hasOwnProperty(e)) return void (d && (o[e].optgroup ? (a.isArray(o[e].optgroup) ? o[e].optgroup.push(d) : (o[e].optgroup = [o[e].optgroup, d])) : (o[e].optgroup = d)));
                                    (i = p(b) || {}), (i[f] = i[f] || b.text()), (i[g] = i[g] || e), (i[h] = i[h] || d), (i.$order = ++n), (o[e] = i), b.is(":selected") && c.items.push(e);
                                }
                            },
                            r = function (b) {
                                var d, e, f, g, h;
                                for (b = a(b), f = b.attr("label"), f && ((g = p(b) || {}), (g[i] = f), (g[j] = f), (c.optgroups[f] = g)), h = a("option", b), d = 0, e = h.length; e > d; d++) q(h[d], f);
                            };
                        for (c.maxItems = b.attr("multiple") ? null : 1, m = b.children(), d = 0, k = m.length; k > d; d++) (l = m[d].tagName.toLowerCase()), "optgroup" === l ? r(m[d]) : "option" === l && q(m[d]);
                    };
                return this.each(function () {
                    if (!this.selectize) {
                        var d,
                            e = a(this),
                            f = this.tagName.toLowerCase(),
                            g = { placeholder: e.children('option[value=""]').text() || e.attr("placeholder"), options: {}, optgroups: {}, items: [] };
                        "select" === f ? l(e, g) : k(e, g), (d = new L(e, a.extend(!0, {}, c, g, b)));
                    }
                });
            }),
            (a.fn.selectize.defaults = L.defaults),
            L.define("drag_drop", function () {
                if (!a.fn.sortable) throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');
                if ("multi" === this.settings.mode) {
                    var b = this;
                    (b.lock = (function () {
                        var a = b.lock;
                        return function () {
                            var c = b.$control.data("sortable");
                            return c && c.disable(), a.apply(b, arguments);
                        };
                    })()),
                        (b.unlock = (function () {
                            var a = b.unlock;
                            return function () {
                                var c = b.$control.data("sortable");
                                return c && c.enable(), a.apply(b, arguments);
                            };
                        })()),
                        (b.setup = (function () {
                            var c = b.setup;
                            return function () {
                                c.apply(this, arguments);
                                var d = b.$control.sortable({
                                    items: "[data-value]",
                                    forcePlaceholderSize: !0,
                                    disabled: b.isLocked,
                                    start: function (a, b) {
                                        b.placeholder.css("width", b.helper.css("width")), d.css({ overflow: "visible" });
                                    },
                                    stop: function () {
                                        d.css({ overflow: "hidden" });
                                        var c = b.$activeItems ? b.$activeItems.slice() : null,
                                            e = [];
                                        d.children("[data-value]").each(function(){
                                            e.push(a(this).attr("data-value"));
                                        }),
                                            b.setValue(e),
                                            b.setActiveItem(c);
                                    },
                                });
                            };
                        })());
                }
            }),
            L.define("dropdown_header", function (b) {
                var c = this;
                (b = a.extend(
                    {
                        title: "Untitled",
                        headerClass: "selectize-dropdown-header",
                        titleRowClass: "selectize-dropdown-header-title",
                        labelClass: "selectize-dropdown-header-label",
                        closeClass: "selectize-dropdown-header-close",
                        html: function (a) {
                            return (
                                '<div class="' +
                                a.headerClass +
                                '"><div class="' +
                                a.titleRowClass +
                                '"><span class="' +
                                a.labelClass +
                                '">' +
                                a.title +
                                '</span><a href="javascript:void(0)" class="' +
                                a.closeClass +
                                '">&times;</a></div></div>'
                            );
                        },
                    },
                    b
                )),
                    (c.setup = (function () {
                        var d = c.setup;
                        return function () {
                            d.apply(c, arguments), (c.$dropdown_header = a(b.html(b))), c.$dropdown.prepend(c.$dropdown_header);
                        };
                    })());
            }),
            L.define("optgroup_columns", function (b) {
                var c = this;
                (b = a.extend({ equalizeWidth: !0, equalizeHeight: !0 }, b)),
                    (this.getAdjacentOption = function (b, c) {
                        var d = b.closest("[data-group]").find("[data-selectable]"),
                            e = d.index(b) + c;
                        return e >= 0 && e < d.length ? d.eq(e) : a();
                    }),
                    (this.onKeyDown = (function () {
                        var a = c.onKeyDown;
                        return function (b) {
                            var d, e, f, g;
                            return !this.isOpen || (b.keyCode !== j && b.keyCode !== m)
                                ? a.apply(this, arguments)
                                : ((c.ignoreHover = !0),
                                  (g = this.$activeOption.closest("[data-group]")),
                                  (d = g.find("[data-selectable]").index(this.$activeOption)),
                                  (g = b.keyCode === j ? g.prev("[data-group]") : g.next("[data-group]")),
                                  (f = g.find("[data-selectable]")),
                                  (e = f.eq(Math.min(f.length - 1, d))),
                                  void (e.length && this.setActiveOption(e)));
                        };
                    })());
                var d = function () {
                        var a,
                            b = d.width,
                            c = document;
                        return (
                            "undefined" == typeof b &&
                                ((a = c.createElement("div")),
                                (a.innerHTML = '<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>'),
                                (a = a.firstChild),
                                c.body.appendChild(a),
                                (b = d.width = a.offsetWidth - a.clientWidth),
                                c.body.removeChild(a)),
                            b
                        );
                    },
                    e = function () {
                        var e, f, g, h, i, j, k;
                        if (((k = a("[data-group]", c.$dropdown_content)), (f = k.length), f && c.$dropdown_content.width())) {
                            if (b.equalizeHeight) {
                                for (g = 0, e = 0; f > e; e++) g = Math.max(g, k.eq(e).height());
                                k.css({ height: g });
                            }
                            b.equalizeWidth && ((j = c.$dropdown_content.innerWidth() - d()), (h = Math.round(j / f)), k.css({ width: h }), f > 1 && ((i = j - h * (f - 1)), k.eq(f - 1).css({ width: i })));
                        }
                    };
                (b.equalizeHeight || b.equalizeWidth) && (B.after(this, "positionDropdown", e), B.after(this, "refreshOptions", e));
            }),
            L.define("remove_button", function (b) {
                if ("single" !== this.settings.mode) {
                    b = a.extend({ label: "&times;", title: "Remove", className: "remove", append: !0 }, b);
                    var c = this,
                        d = '<a href="javascript:void(0)" class="' + b.className + '" tabindex="-1" title="' + z(b.title) + '">' + b.label + "</a>",
                        e = function (a, b) {
                            var c = a.search(/(<\/[^>]+>\s*)$/);
                            return a.substring(0, c) + b + a.substring(c);
                        };
                    this.setup = (function () {
                        var f = c.setup;
                        return function () {
                            if (b.append) {
                                var g = c.settings.render.item;
                                c.settings.render.item = function () {
                                    return e(g.apply(this, arguments), d);
                                };
                            }
                            f.apply(this, arguments),
                                this.$control.on("click", "." + b.className, function (b) {
                                    if ((b.preventDefault(), !c.isLocked)) {                                      
                                        var d = a(b.currentTarget).parent();
                                        c.setActiveItem(d), c.deleteSelection() && c.setCaret(c.items.length);
                                      
                                    }
                                });
                        };
                    })();
                }
            }),
            L.define("restore_on_backspace", function (a) {
                var b = this;
                (a.text =
                    a.text ||
                    function (a) {
                        return a[this.settings.labelField];
                    }),
                    (this.onKeyDown = (function () {
                        var c = b.onKeyDown;
                        return function (b) {
                            var d, e;
                            return b.keyCode === p && "" === this.$control_input.val() && !this.$activeItems.length && ((d = this.caretPos - 1), d >= 0 && d < this.items.length)
                                ? ((e = this.options[this.items[d]]), this.deleteSelection(b) && (this.setTextboxValue(a.text.apply(this, [e])), this.refreshOptions(!0)), void b.preventDefault())
                                : c.apply(this, arguments);
                        };
                    })());
            }),
            L
        );
    });