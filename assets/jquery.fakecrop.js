!function(t){var e={ratio:function(t){var e=t.item,i=t.settings;return{w:e.width()/i.wrapperWidth,h:e.height()/i.wrapperHeight}},center:function(t,e){return parseInt((t-e)/2,10)},scaleToFill:function(t){var e=t.item,i=t.settings,r=i.ratio,p=e.width(),a=e.height(),h={top:0,left:0};return r.h>r.w?(p=i.wrapperWidth,a/=r.w,i.center&&(h.top=(i.wrapperHeight-a)/2)):(a=i.wrapperHeight,p/=r.h,i.center&&(h.left=(i.wrapperWidth-p)/2)),i.center&&(t.wrapper.css("position","relative"),e.css({position:"absolute",top:h.top+"px",left:h.left+"px"})),e.height(a).attr("height",a+"px").width(p).attr("width",p+"px")},scaleToFit:function(t){var e=t.item,i=t.settings,r=i.ratio,p=e.width(),a=e.height(),h={top:0,left:0};return r.h>r.w?(a=i.wrapperHeight,p=parseInt(e.width()*i.wrapperHeight/e.height(),10),i.center&&(h.left=(i.wrapperWidth-p)/2)):(a=parseInt(e.height()*i.wrapperWidth/e.width(),10),p=i.wrapperWidth,i.center&&(h.top=(i.wrapperHeight-a)/2)),t.wrapper.css({width:(i.squareWidth?i.wrapperWidth:p)+"px",height:i.wrapperHeight+"px"}),i.center&&(t.wrapper.css("position","relative"),e.css({position:"absolute",top:h.top+"px",left:h.left+"px"})),e.height(a).attr("height",a+"px").width(p).attr("width",p+"px")},init:function(i){var r=t.extend({wrapperSelector:null,wrapperWidth:100,wrapperHeight:100,autoGetWidth:!0,ratioWrapper:null,widthSelector:null,center:!0,fill:!0,initClass:"fc-init",doneEvent:"fakedropdone",squareWidth:!0},i),p=function(){r.autoGetWidth&&(r.wrapperWidth=t(r.widthSelector).width(),r.wrapperHeight=r.wrapperWidth*r.ratioWrapper.ratio_height/r.ratioWrapper.ratio_width);var i=t(this),p=r.wrapperSelector?i.closest(r.wrapperSelector):i.parent(),a={item:i,settings:r,wrapper:p};r.ratio=e.ratio(a),r.fill?(p.css({overflow:"hidden",width:r.wrapperWidth+"px",height:r.wrapperHeight+"px"}),e.scaleToFill(a)):e.scaleToFit(a),i.data("fc.settings",r).addClass(r.initClass).trigger(r.doneEvent)},a=this.filter("img"),h=this.filter(":not(img)");return a.length&&a.bind("load",function(){p.call(this),this.style.display="inline"}).each(function(){if(this.complete||void 0===this.complete){var t=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.src=t,this.style.display="none"}}),h.length&&h.each(p),this}};t.fn.fakecrop=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.fakecrop"):e.init.apply(this,arguments)}}(jQuery);